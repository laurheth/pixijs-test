!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pixijstest",[],e):"object"==typeof exports?exports.pixijstest=e():t.pixijstest=e()}(window,function(){return i={},n.m=r=[function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=(i(a,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),a);function a(t,e,r){void 0===e&&(e=!1),o(this,a),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}function h(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}var u=(i(l,[{key:"handlers",value:function(t){var e=!(arguments.length<=0||void 0===t)&&t,r=this._head;if(e)return!!r;for(var i=[];r;)i.push(r),r=r._next;return i}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t,e){var r=arguments.length<=1||void 0===e?null:e;if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return h(this,new s(t,!1,r))}},{key:"once",value:function(t,e){var r=arguments.length<=1||void 0===e?null:e;if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return h(this,new s(t,!0,r))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),l);function l(){o(this,l),this._head=this._tail=void 0}u.MiniSignalBinding=s,e.default=u,t.exports=e.default},function(t,e){var r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";r.r(e),r.d(e,"utils",function(){return i}),r.d(e,"AccessibilityManager",function(){return tr}),r.d(e,"accessibleTarget",function(){return Je}),r.d(e,"InteractionData",function(){return hr}),r.d(e,"InteractionEvent",function(){return cr}),r.d(e,"InteractionManager",function(){return Tr}),r.d(e,"InteractionTrackingData",function(){return pr}),r.d(e,"interactiveTarget",function(){return yr}),r.d(e,"Application",function(){return Ss}),r.d(e,"AbstractBatchRenderer",function(){return ms}),r.d(e,"AbstractRenderer",function(){return es}),r.d(e,"Attribute",function(){return Fi}),r.d(e,"BaseRenderTexture",function(){return Ti}),r.d(e,"BaseTexture",function(){return Br}),r.d(e,"BatchDrawCall",function(){return us}),r.d(e,"BatchGeometry",function(){return bs}),r.d(e,"BatchPluginFactory",function(){return ws}),r.d(e,"BatchRenderer",function(){return Is}),r.d(e,"BatchShaderGenerator",function(){return ys}),r.d(e,"BatchTextureArray",function(){return ls}),r.d(e,"Buffer",function(){return ki}),r.d(e,"Filter",function(){return no}),r.d(e,"FilterState",function(){return nn}),r.d(e,"Framebuffer",function(){return _i}),r.d(e,"GLFramebuffer",function(){return _n}),r.d(e,"GLProgram",function(){return No}),r.d(e,"GLTexture",function(){return Zo}),r.d(e,"Geometry",function(){return Vi}),r.d(e,"IGLUniformData",function(){return Lo}),r.d(e,"MaskData",function(){return An}),r.d(e,"ObjectRenderer",function(){return un}),r.d(e,"Program",function(){return Jn}),r.d(e,"Quad",function(){return Zi}),r.d(e,"QuadUv",function(){return Qi}),r.d(e,"RenderTexture",function(){return Ri}),r.d(e,"RenderTexturePool",function(){return Li}),r.d(e,"Renderer",function(){return ns}),r.d(e,"Shader",function(){return $n}),r.d(e,"SpriteMaskFilter",function(){return lo}),r.d(e,"State",function(){return eo}),r.d(e,"System",function(){return fi}),r.d(e,"Texture",function(){return Ai}),r.d(e,"TextureMatrix",function(){return ao}),r.d(e,"TextureUvs",function(){return wi}),r.d(e,"UniformGroup",function(){return en}),r.d(e,"ViewableBuffer",function(){return ds}),r.d(e,"autoDetectRenderer",function(){return ss}),r.d(e,"checkMaxIfStatementsInShader",function(){return qn}),r.d(e,"defaultFilterVertex",function(){return hs}),r.d(e,"defaultVertex",function(){return as}),r.d(e,"resources",function(){return pi}),r.d(e,"systems",function(){return $o}),r.d(e,"uniformParsers",function(){return Hn}),r.d(e,"Extract",function(){return Rs}),r.d(e,"AppLoaderPlugin",function(){return ca}),r.d(e,"Loader",function(){return ha}),r.d(e,"LoaderResource",function(){return ea}),r.d(e,"TextureLoader",function(){return ia}),r.d(e,"ParticleContainer",function(){return va}),r.d(e,"ParticleRenderer",function(){return Pa}),r.d(e,"BasePrepare",function(){return iu}),r.d(e,"CountLimiter",function(){return qh}),r.d(e,"Prepare",function(){return cu}),r.d(e,"TimeLimiter",function(){return fu}),r.d(e,"Spritesheet",function(){return vu}),r.d(e,"SpritesheetLoader",function(){return gu}),r.d(e,"TilingSprite",function(){return wu}),r.d(e,"TilingSpriteRenderer",function(){return Ou}),r.d(e,"BitmapFont",function(){return $u}),r.d(e,"BitmapFontData",function(){return Wu}),r.d(e,"BitmapFontLoader",function(){return ul}),r.d(e,"BitmapText",function(){return sl}),r.d(e,"Ticker",function(){return nr}),r.d(e,"TickerPlugin",function(){return sr}),r.d(e,"UPDATE_PRIORITY",function(){return Qe}),r.d(e,"ALPHA_MODES",function(){return tt}),r.d(e,"BLEND_MODES",function(){return B}),r.d(e,"BUFFER_BITS",function(){return F}),r.d(e,"CLEAR_MODES",function(){return rt}),r.d(e,"DRAW_MODES",function(){return j}),r.d(e,"ENV",function(){return R}),r.d(e,"FORMATS",function(){return G}),r.d(e,"GC_MODES",function(){return nt}),r.d(e,"MASK_TYPES",function(){return ht}),r.d(e,"MIPMAP_MODES",function(){return Q}),r.d(e,"MSAA_QUALITY",function(){return lt}),r.d(e,"PRECISION",function(){return st}),r.d(e,"RENDERER_TYPE",function(){return L}),r.d(e,"SCALE_MODES",function(){return q}),r.d(e,"TARGETS",function(){return z}),r.d(e,"TYPES",function(){return V}),r.d(e,"WRAP_MODES",function(){return K}),r.d(e,"Bounds",function(){return Ue}),r.d(e,"Container",function(){return Ze}),r.d(e,"DisplayObject",function(){return Ge}),r.d(e,"TemporaryDisplayObject",function(){return Ye}),r.d(e,"FillStyle",function(){return Aa}),r.d(e,"GRAPHICS_CURVES",function(){return Sa}),r.d(e,"Graphics",function(){return vh}),r.d(e,"GraphicsData",function(){return ih}),r.d(e,"GraphicsGeometry",function(){return hh}),r.d(e,"LINE_CAP",function(){return Ea}),r.d(e,"LINE_JOIN",function(){return xa}),r.d(e,"LineStyle",function(){return ch}),r.d(e,"graphicsUtils",function(){return rh}),r.d(e,"Circle",function(){return pe}),r.d(e,"DEG_TO_RAD",function(){return le}),r.d(e,"Ellipse",function(){return me}),r.d(e,"Matrix",function(){return Pe}),r.d(e,"ObservablePoint",function(){return Ee}),r.d(e,"PI_2",function(){return he}),r.d(e,"Point",function(){return xe}),r.d(e,"Polygon",function(){return ye}),r.d(e,"RAD_TO_DEG",function(){return ue}),r.d(e,"Rectangle",function(){return ce}),r.d(e,"RoundedRectangle",function(){return _e}),r.d(e,"SHAPES",function(){return se}),r.d(e,"Transform",function(){return Ne}),r.d(e,"groupD8",function(){return Le}),r.d(e,"Mesh",function(){return Bu}),r.d(e,"MeshBatchUvs",function(){return Du}),r.d(e,"MeshGeometry",function(){return zu}),r.d(e,"MeshMaterial",function(){return Xu}),r.d(e,"NineSlicePlane",function(){return Xc}),r.d(e,"PlaneGeometry",function(){return Ic}),r.d(e,"RopeGeometry",function(){return Oc}),r.d(e,"SimpleMesh",function(){return Bc}),r.d(e,"SimplePlane",function(){return Nc}),r.d(e,"SimpleRope",function(){return Rc}),r.d(e,"Runner",function(){return Pr}),r.d(e,"Sprite",function(){return wh}),r.d(e,"AnimatedSprite",function(){return Wc}),r.d(e,"TEXT_GRADIENT",function(){return Sh}),r.d(e,"Text",function(){return zh}),r.d(e,"TextMetrics",function(){return Uh}),r.d(e,"TextStyle",function(){return Rh}),r.d(e,"isMobile",function(){return A}),r.d(e,"settings",function(){return dt}),r.d(e,"VERSION",function(){return td}),r.d(e,"filters",function(){return ed}),r.d(e,"useDeprecated",function(){return $c});var i={};r.r(i),r.d(i,"isMobile",function(){return A}),r.d(i,"EventEmitter",function(){return ft.a}),r.d(i,"earcut",function(){return vt.a}),r.d(i,"url",function(){return gt.a}),r.d(i,"BaseTextureCache",function(){return Zt}),r.d(i,"CanvasRenderTarget",function(){return Qt}),r.d(i,"DATA_URI",function(){return re}),r.d(i,"ProgramCache",function(){return Wt}),r.d(i,"TextureCache",function(){return qt}),r.d(i,"clearTextureCache",function(){return Jt}),r.d(i,"correctBlendMode",function(){return Ct}),r.d(i,"createIndicesForQuads",function(){return Lt}),r.d(i,"decomposeDataUri",function(){return ie}),r.d(i,"deprecation",function(){return Vt}),r.d(i,"destroyTextureCache",function(){return Kt}),r.d(i,"determineCrossOrigin",function(){return ne}),r.d(i,"getBufferType",function(){return Nt}),r.d(i,"getResolutionOfUrl",function(){return oe}),r.d(i,"hex2rgb",function(){return Pt}),r.d(i,"hex2string",function(){return It}),r.d(i,"interleaveTypedArrays",function(){return Ut}),r.d(i,"isPow2",function(){return kt}),r.d(i,"isWebGLSupported",function(){return wt}),r.d(i,"log2",function(){return jt}),r.d(i,"nextPow2",function(){return Bt}),r.d(i,"premultiplyBlendMode",function(){return Ot}),r.d(i,"premultiplyRgba",function(){return Mt}),r.d(i,"premultiplyTint",function(){return Rt}),r.d(i,"premultiplyTintToRgba",function(){return Dt}),r.d(i,"removeItems",function(){return Xt}),r.d(i,"rgb2hex",function(){return At}),r.d(i,"sayHello",function(){return Et}),r.d(i,"sign",function(){return Gt}),r.d(i,"skipHello",function(){return Tt}),r.d(i,"string2hex",function(){return St}),r.d(i,"trimCanvas",function(){return te}),r.d(i,"uid",function(){return zt});var n=r(8),o=r(9),s=r.n(o);
/*!
 * @pixi/polyfill - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=n.Polyfill),Object.assign||(Object.assign=s.a);var a;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),window.performance&&window.performance.now||(a=Date.now(),window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-a});for(var h=Date.now(),u=["ms","moz","webkit","o"],l=0;l<u.length&&!window.requestAnimationFrame;++l){var c=u[l];window.requestAnimationFrame=window[c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+h-e;return r<0&&(r=0),h=e,window.setTimeout(function(){h=Date.now(),t(performance.now())},r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);function d(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&1<t.maxTouchPoints&&"undefined"==typeof MSStream}var p=/iPhone/i,f=/iPod/i,m=/iPad/i,v=/\biOS-universal(?:.+)Mac\b/i,y=/\bAndroid(?:.+)Mobile\b/i,g=/Android/i,_=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,b=/Silk/i,x=/Windows Phone/i,T=/\bWindows(?:.+)ARM\b/i,E=/BlackBerry/i,w=/BB10/i,P=/Opera Mini/i,I=/\b(CriOS|Chrome)(?:.+)Mobile/i,S=/Mobile(?:.+)Firefox\b/i;
/*!
 * @pixi/settings - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var A=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n,o=(n=r,function(t){return t.test(n)}),s={apple:{phone:o(p)&&!o(x),ipod:o(f),tablet:!o(p)&&(o(m)||d(e))&&!o(x),universal:o(v),device:(o(p)||o(f)||o(m)||o(v)||d(e))&&!o(x)},amazon:{phone:o(_),tablet:!o(_)&&o(b),device:o(_)||o(b)},android:{phone:!o(x)&&o(_)||!o(x)&&o(y),tablet:!o(x)&&!o(_)&&!o(y)&&(o(b)||o(g)),device:!o(x)&&(o(_)||o(b)||o(y)||o(g))||o(/\bokhttp\b/i)},windows:{phone:o(x),tablet:o(T),device:o(x)||o(T)},other:{blackberry:o(E),blackberry10:o(w),opera:o(P),firefox:o(S),chrome:o(I),device:o(E)||o(w)||o(P)||o(S)||o(I)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}(window.navigator);var O,C,M,R,D,L,N,F,U,B,k,j,X,G,H,z,Y,V,W,q,Z,K,J,Q,$,tt,et,rt,it,nt,ot,st,at,ht,ut,lt,ct,dt={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(O=32,M=!0,(A.tablet||A.phone)&&(A.apple.device&&(C=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(C[1],10)<11&&(M=!1),A.android.device&&(C=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(C[1],10)<7&&(M=!1)),M?O:4),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:A.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!A.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},pt=r(5),ft=r.n(pt),mt=r(6),vt=r.n(mt),yt=r(3),gt=r.n(yt);(D=R=R||{})[D.WEBGL_LEGACY=0]="WEBGL_LEGACY",D[D.WEBGL=1]="WEBGL",D[D.WEBGL2=2]="WEBGL2",(N=L=L||{})[N.UNKNOWN=0]="UNKNOWN",N[N.WEBGL=1]="WEBGL",N[N.CANVAS=2]="CANVAS",(U=F=F||{})[U.COLOR=16384]="COLOR",U[U.DEPTH=256]="DEPTH",U[U.STENCIL=1024]="STENCIL",(k=B=B||{})[k.NORMAL=0]="NORMAL",k[k.ADD=1]="ADD",k[k.MULTIPLY=2]="MULTIPLY",k[k.SCREEN=3]="SCREEN",k[k.OVERLAY=4]="OVERLAY",k[k.DARKEN=5]="DARKEN",k[k.LIGHTEN=6]="LIGHTEN",k[k.COLOR_DODGE=7]="COLOR_DODGE",k[k.COLOR_BURN=8]="COLOR_BURN",k[k.HARD_LIGHT=9]="HARD_LIGHT",k[k.SOFT_LIGHT=10]="SOFT_LIGHT",k[k.DIFFERENCE=11]="DIFFERENCE",k[k.EXCLUSION=12]="EXCLUSION",k[k.HUE=13]="HUE",k[k.SATURATION=14]="SATURATION",k[k.COLOR=15]="COLOR",k[k.LUMINOSITY=16]="LUMINOSITY",k[k.NORMAL_NPM=17]="NORMAL_NPM",k[k.ADD_NPM=18]="ADD_NPM",k[k.SCREEN_NPM=19]="SCREEN_NPM",k[k.NONE=20]="NONE",k[k.SRC_OVER=0]="SRC_OVER",k[k.SRC_IN=21]="SRC_IN",k[k.SRC_OUT=22]="SRC_OUT",k[k.SRC_ATOP=23]="SRC_ATOP",k[k.DST_OVER=24]="DST_OVER",k[k.DST_IN=25]="DST_IN",k[k.DST_OUT=26]="DST_OUT",k[k.DST_ATOP=27]="DST_ATOP",k[k.ERASE=26]="ERASE",k[k.SUBTRACT=28]="SUBTRACT",k[k.XOR=29]="XOR",(X=j=j||{})[X.POINTS=0]="POINTS",X[X.LINES=1]="LINES",X[X.LINE_LOOP=2]="LINE_LOOP",X[X.LINE_STRIP=3]="LINE_STRIP",X[X.TRIANGLES=4]="TRIANGLES",X[X.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",X[X.TRIANGLE_FAN=6]="TRIANGLE_FAN",(H=G=G||{})[H.RGBA=6408]="RGBA",H[H.RGB=6407]="RGB",H[H.ALPHA=6406]="ALPHA",H[H.LUMINANCE=6409]="LUMINANCE",H[H.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",H[H.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",H[H.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(Y=z=z||{})[Y.TEXTURE_2D=3553]="TEXTURE_2D",Y[Y.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Y[Y.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",Y[Y.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Y[Y.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Y[Y.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Y[Y.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Y[Y.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Y[Y.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(W=V=V||{})[W.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",W[W.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",W[W.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",W[W.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",W[W.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",W[W.FLOAT=5126]="FLOAT",W[W.HALF_FLOAT=36193]="HALF_FLOAT",(Z=q=q||{})[Z.NEAREST=0]="NEAREST",Z[Z.LINEAR=1]="LINEAR",(J=K=K||{})[J.CLAMP=33071]="CLAMP",J[J.REPEAT=10497]="REPEAT",J[J.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",($=Q=Q||{})[$.OFF=0]="OFF",$[$.POW2=1]="POW2",$[$.ON=2]="ON",(et=tt=tt||{})[et.NPM=0]="NPM",et[et.UNPACK=1]="UNPACK",et[et.PMA=2]="PMA",et[et.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",et[et.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",et[et.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(it=rt=rt||{})[it.NO=0]="NO",it[it.YES=1]="YES",it[it.AUTO=2]="AUTO",it[it.BLEND=0]="BLEND",it[it.CLEAR=1]="CLEAR",it[it.BLIT=2]="BLIT",(ot=nt=nt||{})[ot.AUTO=0]="AUTO",ot[ot.MANUAL=1]="MANUAL",(at=st=st||{}).LOW="lowp",at.MEDIUM="mediump",at.HIGH="highp",(ut=ht=ht||{})[ut.NONE=0]="NONE",ut[ut.SCISSOR=1]="SCISSOR",ut[ut.STENCIL=2]="STENCIL",ut[ut.SPRITE=3]="SPRITE",(ct=lt=lt||{})[ct.NONE=0]="NONE",ct[ct.LOW=2]="LOW",ct[ct.MEDIUM=4]="MEDIUM",ct[ct.HIGH=8]="HIGH",
/*!
 * @pixi/utils - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
dt.RETINA_PREFIX=/@([0-9\.]+)x/;var _t,bt=!(dt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0),xt="5.3.3";function Tt(){bt=!0}function Et(t){var e,r;bt||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(r=["\n %c %c %c PixiJS "+xt+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],(e=window.console).log.apply(e,r)):window.console&&window.console.log("PixiJS "+xt+" - "+t+" - http://www.pixijs.com/"),bt=!0)}function wt(){return void 0===_t&&(_t=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:dt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e,r=document.createElement("canvas"),i=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),n=!(!i||!i.getContextAttributes().stencil);return!i||(e=i.getExtension("WEBGL_lose_context"))&&e.loseContext(),i=null,n}catch(t){return!1}}()),_t}function Pt(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function It(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function St(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function At(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var Ot=function(){for(var t=[],e=[],r=0;r<32;r++)e[t[r]=r]=r;t[B.NORMAL_NPM]=B.NORMAL,t[B.ADD_NPM]=B.ADD,t[B.SCREEN_NPM]=B.SCREEN,e[B.NORMAL]=B.NORMAL_NPM,e[B.ADD]=B.ADD_NPM,e[B.SCREEN]=B.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function Ct(t,e){return Ot[e?1:0][t]}function Mt(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function Rt(t,e){return 1===e?(255*e<<24)+t:0===e?0:(255*e<<24)+(((t>>16&255)*e+.5|0)<<16)+(((t>>8&255)*e+.5|0)<<8)+((255&t)*e+.5|0)}function Dt(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,!i&&void 0!==i||(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Lt(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function Nt(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Ft={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function Ut(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,h=0,o=0;o<t.length;o++){var u=e[o],l=t[o],c=Nt(l);n[c]||(n[c]=new Ft[c](s)),a=n[c];for(var d=0;d<l.length;d++){a[(d/u|0)*i+h+d%u]=l[d]}h+=u}return new Float32Array(s)}function Bt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function kt(t){return!(t&t-1||!t)}function jt(t){var e=(65535<t?1:0)<<4,r=(255<(t>>>=e)?1:0)<<3;return e|=r,e|=r=(15<(t>>>=r)?1:0)<<2,(e|=r=(3<(t>>>=r)?1:0)<<1)|(t>>>=r)>>1}function Xt(t,e,r){var i=t.length;if(!(i<=e||0===r)){for(var n=i-(r=i<e+r?i-e:r),o=e;o<n;++o)t[o]=t[o+r];t.length=n}}function Gt(t){return 0===t?0:t<0?-1:1}var Ht=0;function zt(){return++Ht}var Yt={};function Vt(t,e,r){var i;void 0===r&&(r=3),Yt[e]||(void 0===(i=(new Error).stack)?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),Yt[e]=!0)}var Wt={},qt=Object.create(null),Zt=Object.create(null);function Kt(){var t;for(t in qt)qt[t].destroy();for(t in Zt)Zt[t].destroy()}function Jt(){var t;for(t in qt)delete qt[t];for(t in Zt)delete Zt[t]}var Qt=($t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},$t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},$t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty($t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty($t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),$t);function $t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||dt.RESOLUTION,this.resize(t,e)}function te(t){for(var e,r,i=t.width,n=t.height,o=t.getContext("2d"),s=o.getImageData(0,0,i,n).data,a=s.length,h={top:null,left:null,right:null,bottom:null},u=null,l=0;l<a;l+=4)0!==s[l+3]&&(e=l/4%i,r=~~(l/4/i),null===h.top&&(h.top=r),(null===h.left||e<h.left)&&(h.left=e),(null===h.right||h.right<e)&&(h.right=1+e),(null===h.bottom||h.bottom<r)&&(h.bottom=r));return null!==h.top&&(i=h.right-h.left,n=h.bottom-h.top+1,u=o.getImageData(h.left,h.top,i,n)),{height:n,width:i,data:u}}var ee,re=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ie(t){var e=re.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function ne(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,(ee=ee||document.createElement("a")).href=t;var r=Object(yt.parse)(ee.href),i=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&i&&r.protocol===e.protocol?"":"anonymous"}function oe(t,e){var r=dt.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}
/*!
 * @pixi/math - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var se,ae,he=2*Math.PI,ue=180/Math.PI,le=Math.PI/180;(ae=se=se||{})[ae.POLY=0]="POLY",ae[ae.RECT=1]="RECT",ae[ae.CIRC=2]="CIRC",ae[ae.ELIP=3]="ELIP",ae[ae.RREC=4]="RREC";var ce=(Object.defineProperty(de.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(de,"EMPTY",{get:function(){return new de(0,0,0,0)},enumerable:!1,configurable:!0}),de.prototype.clone=function(){return new de(this.x,this.y,this.width,this.height)},de.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},de.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},de.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},de.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},de.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0),this},de.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},de.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=n-i,this},de);function de(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=se.RECT}var pe=(fe.prototype.clone=function(){return new fe(this.x,this.y,this.radius)},fe.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},fe.prototype.getBounds=function(){return new ce(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},fe);function fe(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=se.CIRC}var me=(ve.prototype.clone=function(){return new ve(this.x,this.y,this.width,this.height)},ve.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},ve.prototype.getBounds=function(){return new ce(this.x-this.width,this.y-this.height,this.width,this.height)},ve);function ve(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=se.ELIP}var ye=(ge.prototype.clone=function(){var t=new ge(this.points.slice());return t.closeStroke=this.closeStroke,t},ge.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];e<a!=e<u&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r},ge);function ge(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var n=[],o=0,s=i.length;o<s;o++)n.push(i[o].x,i[o].y);i=n}this.points=i,this.type=se.POLY,this.closeStroke=!0}var _e=(be.prototype.clone=function(){return new be(this.x,this.y,this.width,this.height,this.radius)},be.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},be);function be(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=se.RREC}var xe=(Te.prototype.clone=function(){return new Te(this.x,this.y)},Te.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},Te.prototype.copyTo=function(t){return t.set(this.x,this.y),t},Te.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},Te.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},Te);function Te(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}var Ee=(we.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new we(t,e,this._x,this._y)},we.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},we.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},we.prototype.copyTo=function(t){return t.set(this._x,this._y),t},we.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(we.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(we.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),we);function we(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}var Pe=(Ie.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},Ie.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},Ie.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0),r[8]=1,r},Ie.prototype.apply=function(t,e){e=e||new xe;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},Ie.prototype.applyInverse=function(t,e){e=e||new xe;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},Ie.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},Ie.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},Ie.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},Ie.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},Ie.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},Ie.prototype.prepend=function(t){var e,r,i=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,r=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d),this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this},Ie.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(he-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Ie.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},Ie.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Ie.prototype.clone=function(){var t=new Ie;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Ie.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Ie.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(Ie,"IDENTITY",{get:function(){return new Ie},enumerable:!1,configurable:!0}),Object.defineProperty(Ie,"TEMP_MATRIX",{get:function(){return new Ie},enumerable:!1,configurable:!0}),Ie);function Ie(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}var Se=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ae=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Oe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ce=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Me=[],Re=[],De=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Me.push(e);for(var r=0;r<16;r++)for(var i=De(Se[t]*Se[r]+Oe[t]*Ae[r]),n=De(Ae[t]*Se[r]+Ce[t]*Ae[r]),o=De(Se[t]*Oe[r]+Oe[t]*Ce[r]),s=De(Ae[t]*Oe[r]+Ce[t]*Ce[r]),a=0;a<16;a++)if(Se[a]===i&&Ae[a]===n&&Oe[a]===o&&Ce[a]===s){e.push(a);break}}for(t=0;t<16;t++){var h=new Pe;h.set(Se[t],Ae[t],Oe[t],Ce[t],0,0),Re.push(h)}}();var Le={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Se[t]},uY:function(t){return Ae[t]},vX:function(t){return Oe[t]},vY:function(t){return Ce[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Me[t][e]},sub:function(t,e){return Me[t][Le.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?Le.S:Le.N:2*Math.abs(e)<=Math.abs(t)?0<t?Le.E:Le.W:0<e?0<t?Le.SE:Le.SW:0<t?Le.NE:Le.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=Re[Le.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Ne=(Fe.prototype.onChange=function(){this._localID++},Fe.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},Fe.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Fe.prototype.updateTransform=function(t){var e,r,i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,(r=this.worldTransform).a=i.a*e.a+i.b*e.c,r.b=i.a*e.b+i.b*e.d,r.c=i.c*e.a+i.d*e.c,r.d=i.c*e.b+i.d*e.d,r.tx=i.tx*e.a+i.ty*e.c+e.tx,r.ty=i.tx*e.b+i.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},Fe.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(Fe.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),Fe.IDENTITY=new Fe,Fe);function Fe(){this.worldTransform=new Pe,this.localTransform=new Pe,this.position=new Ee(this.onChange,this,0,0),this.scale=new Ee(this.onChange,this,1,1),this.pivot=new Ee(this.onChange,this,0,0),this.skew=new Ee(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}
/*!
 * @pixi/display - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
dt.SORTABLE_CHILDREN=!1;var Ue=(Be.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Be.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Be.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?ce.EMPTY:((t=t||new ce(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Be.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Be.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1],e=o<e?o:e,r=s<r?s:r,i=i<o?o:i,n=n<s?s:n;e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=i<o?o:i,n=n<s?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=i<o?o:i,n=n<s?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=i<o?o:i,n=n<s?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},Be.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},Be.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,h=t.d,u=t.tx,l=t.ty,c=o*e+a*r+u,d=s*e+h*r+l,p=c<(p=this.minX)?c:p,f=d<(f=this.minY)?d:f,m=(m=this.maxX)<c?c:m,v=(v=this.maxY)<d?d:v;p=(c=o*i+a*r+u)<p?c:p,f=(d=s*i+h*r+l)<f?d:f,m=m<c?c:m,v=v<d?d:v,p=(c=o*e+a*n+u)<p?c:p,f=(d=s*e+h*n+l)<f?d:f,m=m<c?c:m,v=v<d?d:v,p=(c=o*i+a*n+u)<p?c:p,f=(d=s*i+h*n+l)<f?d:f,m=m<c?c:m,v=v<d?d:v,this.minX=p,this.minY=f,this.maxX=m,this.maxY=v},Be.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2)var h=t[a],u=t[a+1],i=h<i?h:i,n=u<n?u:n,o=o<h?h:o,s=s<u?u:s;this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},Be.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},Be.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,h=t.c,u=t.d,l=t.tx,c=t.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,v=r;v<i;v+=2)var y=e[v],g=e[v+1],_=s*y+h*g+l,b=u*g+a*y+c,d=Math.min(d,_-n),f=Math.max(f,_+n),p=Math.min(p,b-o),m=Math.max(m,b+o);this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},Be.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},Be.prototype.addBoundsMask=function(t,e){var r,i,n,o,s=t.minX>e.minX?t.minX:e.minX,a=t.minY>e.minY?t.minY:e.minY,h=t.maxX<e.maxX?t.maxX:e.maxX,u=t.maxY<e.maxY?t.maxY:e.maxY;s<=h&&a<=u&&(r=this.minX,i=this.minY,n=this.maxX,o=this.maxY,this.minX=s<r?s:r,this.minY=a<i?a:i,this.maxX=n<h?h:n,this.maxY=o<u?u:o)},Be.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},Be.prototype.addBoundsArea=function(t,e){var r,i,n,o,s=t.minX>e.x?t.minX:e.x,a=t.minY>e.y?t.minY:e.y,h=t.maxX<e.x+e.width?t.maxX:e.x+e.width,u=t.maxY<e.y+e.height?t.maxY:e.y+e.height;s<=h&&a<=u&&(r=this.minX,i=this.minY,n=this.maxX,o=this.maxY,this.minX=s<r?s:r,this.minY=a<i?a:i,this.maxX=n<h?h:n,this.maxY=o<u?u:o)},Be.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},Be.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},Be);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Be(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}var ke=function(t,e){return(ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function je(t,e){function r(){this.constructor=t}ke(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Xe,Ge=(je(He,Xe=ft.a),He.mixin=function(t){for(var e=Object.keys(t),r=0;r<e.length;++r){var i=e[r];Object.defineProperty(He.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},He.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},He.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},He.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new ce),e=this._boundsRect),this._bounds.getRectangle(e)},He.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new ce),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Ue);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,o},He.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},He.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},He.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},He.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},He.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(He.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Ye),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),He.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},He.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(He.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"angle",{get:function(){return this.transform.rotation*ue},set:function(t){this.transform.rotation=t*le},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(He.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),He);function He(){var t=Xe.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Ne,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Ue,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}var ze,Ye=(je(Ve,ze=Ge),Ve);function Ve(){var t=null!==ze&&ze.apply(this,arguments)||this;return t.sortDirty=null,t}function We(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Ge.prototype.displayObjectUpdateTransform=Ge.prototype.updateTransform;var qe,Ze=(je(Ke,qe=Ge),Ke.prototype.onChildrenChange=function(t){},Ke.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(1<e.length)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),(n.parent=this).sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},Ke.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},Ke.prototype.swapChildren=function(t,e){var r,i;t!==e&&(r=this.getChildIndex(t),i=this.getChildIndex(e),this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i))},Ke.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},Ke.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);Xt(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},Ke.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},Ke.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(1<e.length)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,Xt(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},Ke.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Xt(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},Ke.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=e-t;if(0<i&&i<=e){r=this.children.splice(t,i);for(var n=0;n<r.length;++n)r[n].parent=null,r[n].transform&&(r[n].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(n=0;n<r.length;++n)r[n].emit("removed",this),this.emit("childRemoved",r[n],this,n);return r}if(0==i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},Ke.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&1<this.children.length&&this.children.sort(We),this.sortDirty=!1},Ke.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},Ke.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e,r=this.children[t];r.visible&&r.renderable&&(r.calculateBounds(),r._mask?((e=r._mask.maskObject||r._mask).calculateBounds(),this._bounds.addBoundsMask(r._bounds,e._bounds)):r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds))}this._bounds.updateID=this._boundsID},Ke.prototype.getLocalBounds=function(t,e){void 0===e&&(e=!1);var r=qe.prototype.getLocalBounds.call(this,t);if(!e)for(var i=0,n=this.children.length;i<n;++i){var o=this.children[i];o.visible&&o.updateTransform()}return r},Ke.prototype._calculateBounds=function(){},Ke.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},Ke.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var i=this._enabledFilters.length=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);for(var i=0,n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},Ke.prototype._render=function(t){},Ke.prototype.destroy=function(t){qe.prototype.destroy.call(this),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(e)for(var i=0;i<r.length;++i)r[i].destroy(t)},Object.defineProperty(Ke.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ke.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),Ke);function Ke(){var t=qe.call(this)||this;return t.children=[],t.sortableChildren=dt.SORTABLE_CHILDREN,t.sortDirty=!1,t}Ze.prototype.containerUpdateTransform=Ze.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Je={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ge.mixin(Je);var Qe,$e,tr=(Object.defineProperty(er.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(er.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),er.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},er.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},er.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},er.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},er.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},er.prototype.update=function(){var t=performance.now();if(!(A.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,i=e.width/this.renderer.width*r,n=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var a,h,u=this.children[s];u.renderId!==this.renderId?(u._accessibleActive=!1,Xt(this.children,s,1),this.div.removeChild(u._accessibleDiv),this.pool.push(u._accessibleDiv),u._accessibleDiv=null,s--):(o=u._accessibleDiv,a=u.hitArea,h=u.worldTransform,u.hitArea?(o.style.left=(h.tx+a.x*h.a)*i+"px",o.style.top=(h.ty+a.y*h.d)*n+"px",o.style.width=a.width*h.a*i+"px",o.style.height=a.height*h.d*n+"px"):(a=u.getBounds(),this.capHitArea(a),o.style.left=a.x*i+"px",o.style.top=a.y*n+"px",o.style.width=a.width*i+"px",o.style.height=a.height*n+"px",o.title!==u.accessibleTitle&&null!==u.accessibleTitle&&(o.title=u.accessibleTitle),o.getAttribute("aria-label")!==u.accessibleHint&&null!==u.accessibleHint&&o.setAttribute("aria-label",u.accessibleHint)),u.accessibleTitle===o.title&&u.tabIndex===o.tabIndex||(o.title=u.accessibleTitle,o.tabIndex=u.tabIndex,this.debug&&this.updateDebugHTML(o)))}this.renderId++}},er.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},er.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},er.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},er.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},er.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},er.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},er.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},er.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},er.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},er);function er(t){this._hookDiv=null,(A.tablet||A.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}
/*!
 * @pixi/ticker - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
dt.TARGET_FPMS=.06,($e=Qe=Qe||{})[$e.INTERACTION=50]="INTERACTION",$e[$e.HIGH=25]="HIGH",$e[$e.NORMAL=0]="NORMAL",$e[$e.LOW=-25]="LOW",$e[$e.UTILITY=-50]="UTILITY";var rr=(ir.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},ir.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},ir.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},ir.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},ir);function ir(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}var nr=(or.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},or.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},or.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},or.prototype.add=function(t,e,r){return void 0===r&&(r=Qe.NORMAL),this._addListener(new rr(t,e,r))},or.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Qe.NORMAL),this._addListener(new rr(t,e,r,!0))},or.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}e=(r=e).next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},or.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(or.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),or.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},or.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},or.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},or.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*dt.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(or.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(or.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,dt.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(or.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){var e;0===t?this._minElapsedMS=0:(e=Math.max(this.minFPS,t),this._minElapsedMS=1/(e/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(or,"shared",{get:function(){var t;return or._shared||((t=or._shared=new or).autoStart=!0,t._protected=!0),or._shared},enumerable:!1,configurable:!0}),Object.defineProperty(or,"system",{get:function(){var t;return or._system||((t=or._system=new or).autoStart=!0,t._protected=!0),or._system},enumerable:!1,configurable:!0}),or);function or(){var e=this;this._head=new rr(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/dt.TARGET_FPMS,this.elapsedMS=1/dt.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}var sr=(ar.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,Qe.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?nr.shared:new nr,t.autoStart&&this.start()},ar.destroy=function(){var t;this._ticker&&(t=this._ticker,this.ticker=null,t.destroy())},ar);
/*!
 * @pixi/interaction - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function ar(){}var hr=(Object.defineProperty(ur.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),ur.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},ur.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},ur.prototype.reset=function(){this.isPrimary=!1},ur);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ur(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new xe,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}var lr=function(t,e){return(lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var cr=(dr.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},dr.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},dr);function dr(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}var pr=(fr.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(fr.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(fr.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(fr.prototype,"none",{get:function(){return this._flags===fr.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(fr.prototype,"over",{get:function(){return 0!=(this._flags&fr.FLAGS.OVER)},set:function(t){this._doSet(fr.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(fr.prototype,"rightDown",{get:function(){return 0!=(this._flags&fr.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(fr.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(fr.prototype,"leftDown",{get:function(){return 0!=(this._flags&fr.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(fr.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),fr.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),fr);function fr(t){this._pointerId=t,this._flags=fr.FLAGS.NONE}var mr=(vr.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:h=i=!1),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;0<=l;l--){var c=u[l],d=this.recursiveFindHit(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},vr.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},vr);function vr(){this._tempPoint=new xe}var yr={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Ge.mixin(yr);var gr,_r,br,xr={target:null,data:{global:null}},Tr=(gr=ft.a,lr(_r=wr,br=gr),_r.prototype=null===br?Object.create(br):(Er.prototype=br.prototype,new Er),Object.defineProperty(wr.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){(this._useSystemTicker=t)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(wr.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),wr.prototype.hitTest=function(t,e){return xr.target=null,xr.data.global=t,e=e||this.lastObjectRendered,this.processInteractive(xr,e,null,!0),xr.target},wr.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},wr.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(nr.system.add(this.tickerUpdate,this,Qe.INTERACTION),this.tickerAdded=!0)},wr.prototype.removeTickerListener=function(){this.tickerAdded&&(nr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},wr.prototype.addEvents=function(){var t;!this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},wr.prototype.removeEvents=function(){var t;this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},wr.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},wr.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData){var e,r;!this.activeInteractionData.hasOwnProperty(t)||(e=this.activeInteractionData[t]).originalEvent&&"touch"!==e.pointerType&&(r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e),this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0))}this.setCursorMode(this.cursor)}},wr.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},wr.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},wr.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},wr.prototype.mapPositionToPoint=function(t,e,r){var i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},wr.prototype.processInteractive=function(t,e,r,i){var n=this.search.findHit(t,e,r,i),o=this.delayedEvents;if(!o.length)return n;t.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],u=h.displayObject,l=h.eventString,c=h.eventData;c.stopsPropagatingAt===u&&(c.stopPropagationHint=!0),this.dispatchEvent(u,l,c)}return n},wr.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);!this.autoPreventDefault||!e[0].isNormalized||!t.cancelable&&"cancelable"in t||t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n,o=e[i],s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===o.pointerType?this.emit("touchstart",a):"mouse"!==o.pointerType&&"pen"!==o.pointerType||(n=2===o.button,this.emit(n?"rightdown":"mousedown",this.eventData))}}},wr.prototype.processPointerDown=function(t,e,r){var i,n=t.data,o=t.data.identifier;r&&(e.trackedPointers[o]||(e.trackedPointers[o]=new pr(o)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==n.pointerType&&"pen"!==n.pointerType||((i=2===n.button)?e.trackedPointers[o].rightDown=!0:e.trackedPointers[o].leftDown=!0,this.dispatchEvent(e,i?"rightdown":"mousedown",t)))},wr.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a,h=i[s],u=this.getInteractionDataForPointerId(h),l=this.configureInteractionEventForDOMEvent(this.eventData,h,u);l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===h.pointerType||"pen"===h.pointerType?(a=2===h.button,this.emit(a?"rightup"+o:"mouseup"+o,l)):"touch"===h.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(h.pointerId))}},wr.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},wr.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},wr.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},wr.prototype.processPointerUp=function(t,e,r){var i,n,o,s,a=t.data,h=t.data.identifier,u=e.trackedPointers[h],l="touch"===a.pointerType,c="mouse"===a.pointerType||"pen"===a.pointerType,d=!1;c&&(i=2===a.button,n=pr.FLAGS,o=i?n.RIGHT_DOWN:n.LEFT_DOWN,s=void 0!==u&&u.flags&o,r?(this.dispatchEvent(e,i?"rightup":"mouseup",t),s&&(this.dispatchEvent(e,i?"rightclick":"click",t),d=!0)):s&&this.dispatchEvent(e,i?"rightupoutside":"mouseupoutside",t),u&&(i?u.rightDown=!1:u.leftDown=!1)),r?(this.dispatchEvent(e,"pointerup",t),l&&this.dispatchEvent(e,"touchend",t),u&&(c&&!d||this.dispatchEvent(e,"pointertap",t),l&&(this.dispatchEvent(e,"tap",t),u.over=!1))):u&&(this.dispatchEvent(e,"pointerupoutside",t),l&&this.dispatchEvent(e,"touchendoutside",t)),u&&u.none&&delete e.trackedPointers[h]},wr.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},wr.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},wr.prototype.onPointerOut=function(t){var e,r,i;this.supportsTouchEvents&&"touch"===t.pointerType||("mouse"===(e=this.normalizeToPointerData(t)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),r=this.getInteractionDataForPointerId(e),(i=this.configureInteractionEventForDOMEvent(this.eventData,e,r)).data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier))},wr.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new pr(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},wr.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);"mouse"===(i.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},wr.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new hr).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},wr.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},wr.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},wr.prototype.normalizeToPointerData=function(t){var e,r=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,n=t.changedTouches.length;i<n;i++){var o=t.changedTouches[i];void 0===o.button&&(o.button=t.touches.length?1:0),void 0===o.buttons&&(o.buttons=t.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,r.push(o)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?r.push(t):(void 0===(e=t).isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,r.push(e));return r},wr.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},wr);function Er(){this.constructor=_r}function wr(t,e){var r=gr.call(this)||this;return e=e||{},r.renderer=t,r.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,r.interactionFrequency=e.interactionFrequency||10,r.mouse=new hr,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new cr,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new mr,r._tempDisplayObject=new Ye,r._useSystemTicker=void 0===e.useSystemTicker||e.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}
/*!
 * @pixi/runner - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Pr=(Ir.prototype.emit=function(t,e,r,i,n,o,s,a){if(8<arguments.length)throw new Error("max arguments reached");var h=this.name,u=this.items;this._aliasCount++;for(var l=0,c=u.length;l<c;l++)u[l][h](t,e,r,i,n,o,s,a);return u===this.items&&this._aliasCount--,this},Ir.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},Ir.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},Ir.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},Ir.prototype.contains=function(t){return-1!==this.items.indexOf(t)},Ir.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},Ir.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(Ir.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(Ir.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Ir);function Ir(t){this.items=[],this._name=t,this._aliasCount=0}Object.defineProperties(Pr.prototype,{dispatch:{value:Pr.prototype.emit},run:{value:Pr.prototype.emit}}),
/*!
 * @pixi/core - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
dt.PREFER_ENV=A.any?R.WEBGL:R.WEBGL2,dt.STRICT_TEXTURE_CACHE=!1;var Sr=[];function Ar(t,e){if(!t)return null;var r,i="";"string"!=typeof t||(r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t))&&(i=r[1].toLowerCase());for(var n=Sr.length-1;0<=n;--n){var o=Sr[n];if(o.test&&o.test(t,i))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Or=function(t,e){return(Or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Cr(t,e){function r(){this.constructor=t}Or(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Mr=(Rr.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},Rr.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},Rr.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(Rr.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),Rr.prototype.update=function(){this.destroyed||this.onUpdate.emit()},Rr.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(Rr.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(Rr.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Rr.prototype.style=function(t,e,r){return!1},Rr.prototype.dispose=function(){},Rr.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Rr.test=function(t,e){return!1},Rr);function Rr(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Pr("setRealSize"),this.onUpdate=new Pr("update"),this.onError=new Pr("onError")}var Dr,Lr=(Cr(Nr,Dr=Mr),Nr.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===tt.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},Nr.prototype.dispose=function(){this.data=null},Nr.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},Nr);function Nr(t,e){var r=this,i=e||{},n=i.width,o=i.height;if(!n||!o)throw new Error("BufferResource width or height invalid");return(r=Dr.call(this,n,o)||this).data=t,r}var Fr,Ur={scaleMode:q.NEAREST,format:G.RGBA,alphaMode:tt.NPM},Br=(Cr(kr,Fr=ft.a),Object.defineProperty(kr.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(kr.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),kr.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},kr.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},kr.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},kr.prototype._refreshPOT=function(){this.isPowerOfTwo=kt(this.realWidth)&&kt(this.realHeight)},kr.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},kr.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},kr.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},kr.prototype.onError=function(t){this.emit("error",this,t)},kr.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Zt[this.cacheId],delete qt[this.cacheId],this.cacheId=null),this.dispose(),kr.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},kr.prototype.dispose=function(){this.emit("dispose",this)},kr.prototype.castToBaseTexture=function(){return this},kr.from=function(t,e,r){void 0===r&&(r=dt.STRICT_TEXTURE_CACHE);var i="string"==typeof t,n=null,n=i?t:(t._pixiId||(t._pixiId="pixiid_"+zt()),t._pixiId),o=Zt[n];if(i&&r&&!o)throw new Error('The cacheId "'+n+'" does not exist in BaseTextureCache.');return o||((o=new kr(t,e)).cacheId=n,kr.addToCache(o,n)),o},kr.fromBuffer=function(t,e,r,i){t=t||new Float32Array(e*r*4);var n=new Lr(t,{width:e,height:r}),o=t instanceof Float32Array?V.FLOAT:V.UNSIGNED_BYTE;return new kr(n,Object.assign(Ur,i||{width:e,height:r,type:o}))},kr.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Zt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Zt[e]=t)},kr.removeFromCache=function(t){if("string"==typeof t){var e=Zt[t];if(e){var r=e.textureCacheIds.indexOf(t);return-1<r&&e.textureCacheIds.splice(r,1),delete Zt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete Zt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},kr._globalBatch=0,kr);function kr(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var r=Fr.call(this)||this,i=(e=e||{}).alphaMode,n=e.mipmap,o=e.anisotropicLevel,s=e.scaleMode,a=e.width,h=e.height,u=e.wrapMode,l=e.format,c=e.type,d=e.target,p=e.resolution,f=e.resourceOptions;return!t||t instanceof Mr||((t=Ar(t,f)).internal=!0),r.width=a||0,r.height=h||0,r.resolution=p||dt.RESOLUTION,r.mipmap=void 0!==n?n:dt.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==o?o:dt.ANISOTROPIC_LEVEL,r.wrapMode=u||dt.WRAP_MODE,r.scaleMode=void 0!==s?s:dt.SCALE_MODE,r.format=l||G.RGBA,r.type=c||V.UNSIGNED_BYTE,r.target=d||z.TEXTURE_2D,r.alphaMode=void 0!==i?i:tt.UNPACK,void 0!==e.premultiplyAlpha&&(r.premultiplyAlpha=e.premultiplyAlpha),r.uid=zt(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=0<a&&0<h,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}var jr,Xr=(Cr(Gr,jr=Mr),Gr.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof Mr?this.addResourceAt(t[r],r):this.addResourceAt(Ar(t[r],e),r))},Gr.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},Gr.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},Gr.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");jr.prototype.bind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)},Gr.prototype.unbind=function(t){jr.prototype.unbind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)},Gr.prototype.load=function(){var i=this;if(this._load)return this._load;var t=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(t).then(function(){var t=i.items[0],e=t.realWidth,r=t.realHeight;return i.resize(e,r),Promise.resolve(i)}),this._load},Gr);function Gr(t,e){var r=this,i=e||{},n=i.width,o=i.height;(r=jr.call(this,n,o)||this).items=[],r.itemDirtyIds=[];for(var s=0;s<t;s++){var a=new Br;r.items.push(a),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}var Hr,zr=(Cr(Yr,Hr=Xr),Yr.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},Yr.prototype.bind=function(t){Hr.prototype.bind.call(this,t),t.target=z.TEXTURE_2D_ARRAY},Yr.prototype.upload=function(t,e,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var a=0;a<i;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},Yr);function Yr(t,e){var r,i=this,n=e||{},o=n.width,s=n.height,a=Array.isArray(t)?(r=t).length:t,i=Hr.call(this,a,{width:o,height:s})||this;return r&&i.initFromArray(r,e),i}var Vr,Wr=(Cr(qr,Vr=Mr),qr.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=ne(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},qr.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===tt.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},qr.prototype.update=function(){var t,e,r;this.destroyed||(e=(t=this.source).naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height,this.resize(e,r),Vr.prototype.update.call(this))},qr.prototype.dispose=function(){this.source=null},qr);function qr(t){var e=this,r=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;return(e=Vr.call(this,r,i)||this).source=t,e.noSubImage=!1,e}var Zr,Kr=(Cr(Jr,Zr=Wr),Jr.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},Jr);function Jr(){return null!==Zr&&Zr.apply(this,arguments)||this}var Qr,$r=(Cr(ti,Qr=Xr),ti.prototype.bind=function(t){Qr.prototype.bind.call(this,t),t.target=z.TEXTURE_CUBE_MAP},ti.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||0<Object.keys(t._glTextures).length){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=z.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},ti.prototype.upload=function(t,e,r){for(var i=this.itemDirtyIds,n=0;n<ti.SIDES;n++){var o=this.items[n];i[n]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(t,o,r),i[n]=o.dirtyId):i[n]<-1&&(t.gl.texImage2D(o.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),i[n]=-1))}return!0},ti.test=function(t){return Array.isArray(t)&&t.length===ti.SIDES},ti.SIDES=6,ti);function ti(t,e){var r=this,i=e||{},n=i.width,o=i.height,s=i.autoLoad,a=i.linkBaseTexture;if(t&&t.length!==ti.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");r=Qr.call(this,6,{width:n,height:o})||this;for(var h=0;h<ti.SIDES;h++)r.items[h].target=z.TEXTURE_CUBE_MAP_POSITIVE_X+h;return r.linkBaseTexture=!1!==a,t&&r.initFromArray(t,e),!1!==s&&r.load(),r}var ei,ri=(Cr(ii,ei=Wr),ii.prototype.load=function(t){var n=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,e){var r=n.source;n.url=r.src;function i(){n.destroyed||(r.onload=null,r.onerror=null,n.resize(r.width,r.height),n._load=null,n.createBitmap?t(n.process()):t(n))}r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){e(t),n.onError.emit(t)})})),this._load},ii.prototype.process=function(){var e=this,t=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===tt.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},ii.prototype.upload=function(t,e,r){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return ei.prototype.upload.call(this,t,e,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(ei.prototype.upload.call(this,t,e,r,this.bitmap),!this.preserveBitmap){var i=!0,n=e._glTextures;for(var o in n){var s=n[o];if(s!==r&&s.dirtyId!==e.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},ii.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,ei.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},ii.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},ii);function ii(t,e){var r,i=this;return e=e||{},t instanceof HTMLImageElement||(r=new Image,Wr.crossOrigin(r,t,e.crossorigin),r.src=t,t=r),i=ei.call(this,t)||this,!t.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=t.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==e.createBitmap?e.createBitmap:dt.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,void 0!==e.premultiplyAlpha&&(i.premultiplyAlpha=e.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==e.autoLoad&&i.load(),i}var ni,oi=(Cr(si,ni=Wr),si.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},si.prototype._loadSvg=function(){var o=this,s=new Image;Wr.crossOrigin(s,this.svg,this._crossorigin),s.src=this.svg,s.onerror=function(t){o._resolve&&(s.onerror=null,o.onError.emit(t))},s.onload=function(){if(o._resolve){var t=s.width,e=s.height;if(!t||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var r=t*o.scale,i=e*o.scale;(o._overrideWidth||o._overrideHeight)&&(r=o._overrideWidth||o._overrideHeight/e*t,i=o._overrideHeight||o._overrideWidth/t*e),r=Math.round(r),i=Math.round(i);var n=o.source;n.width=r,n.height=i,n._pixiId="canvas_"+zt(),n.getContext("2d").drawImage(s,0,0,t,e,0,0,r,i),o._resolve(),o._resolve=null}}},si.getSize=function(t){var e=si.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r},si.prototype.dispose=function(){ni.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},si.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},si.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,si);function si(t,e){var r=this;return e=e||{},(r=ni.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=e.scale||1,r._overrideWidth=e.width,r._overrideHeight=e.height,r._resolve=null,r._crossorigin=e.crossorigin,r._load=null,!1!==e.autoLoad&&r.load(),r}var ai,hi=(Cr(ui,ai=Wr),ui.prototype.update=function(t){var e;void 0===t&&(t=0),this.destroyed||(e=nr.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(ai.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},ui.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(t){e.valid?t(e):(e._resolve=t,r.load())}),this._load},ui.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},ui.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},ui.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},ui.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(nr.shared.add(this.update,this),this._isConnectedToTicker=!0)},ui.prototype._onPlayStop=function(){this._isConnectedToTicker&&(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},ui.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},ui.prototype.dispose=function(){this._isConnectedToTicker&&nr.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),ai.prototype.dispose.call(this)},Object.defineProperty(ui.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(nr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(ui.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),ui.test=function(t,e){return t instanceof HTMLVideoElement||-1<ui.TYPES.indexOf(e)},ui.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],ui.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},ui);function ui(t,e){var r=this;if(e=e||{},!(t instanceof HTMLVideoElement)){var i=document.createElement("video");i.setAttribute("preload","auto"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"==typeof t&&(t=[t]);var n=t[0].src||t[0];Wr.crossOrigin(i,n,e.crossorigin);for(var o=0;o<t.length;++o){var s=document.createElement("source"),a=t[o],h=a.src,u=a.mime,l=(h=h||t[o]).split("?").shift().toLowerCase(),c=l.substr(l.lastIndexOf(".")+1),u=u||ui.MIME_TYPES[c]||"video/"+c;s.src=h,s.type=u,i.appendChild(s)}t=i}return(r=ai.call(this,t)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=e.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==e.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==e.autoLoad&&r.load(),r}var li,ci=(Cr(di,li=Wr),di.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},di);function di(){return null!==li&&li.apply(this,arguments)||this}Sr.push(ri,ci,Kr,hi,oi,Lr,$r,zr);var pi={Resource:Mr,BaseImageResource:Wr,INSTALLED:Sr,autoDetectResource:Ar,AbstractMultiResource:Xr,ArrayResource:zr,BufferResource:Lr,CanvasResource:Kr,CubeResource:$r,ImageResource:ri,SVGResource:oi,VideoResource:hi,ImageBitmapResource:ci},fi=(mi.prototype.destroy=function(){this.renderer=null},mi);function mi(t){this.renderer=t}var vi,yi=(Cr(gi,vi=Lr),gi.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===tt.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},gi);function gi(){return null!==vi&&vi.apply(this,arguments)||this}var _i=(Object.defineProperty(bi.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),bi.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Br(null,{scaleMode:q.NEAREST,resolution:1,mipmap:Q.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},bi.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Br(new yi(null,{width:this.width,height:this.height}),{scaleMode:q.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Q.OFF,format:G.DEPTH_COMPONENT,type:V.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},bi.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},bi.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},bi.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},bi.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},bi.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},bi);function bi(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Pr("disposeFramebuffer"),this.multisample=lt.NONE}var xi,Ti=(Cr(Ei,xi=Br),Ei.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},Ei.prototype.dispose=function(){this.framebuffer.dispose(),xi.prototype.dispose.call(this)},Ei.prototype.destroy=function(){xi.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},Ei);function Ei(t){var e=this;"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),e=xi.call(this,null,t)||this;var r=t||{},i=r.width,n=r.height;return e.mipmap=0,e.width=Math.ceil(i)||100,e.height=Math.ceil(n)||100,e.valid=!0,e.clearColor=[0,0,0,0],e.framebuffer=new _i(e.width*e.resolution,e.height*e.resolution).addColorTexture(0,e),e.maskStack=[],e.filterStack=[{}],e}var wi=(Pi.prototype.set=function(t,e,r){var i,n,o,s,a=e.width,h=e.height;r?(i=t.width/2/a,n=t.height/2/h,o=t.x/a+i,s=t.y/h+n,r=Le.add(r,Le.NW),this.x0=o+i*Le.uX(r),this.y0=s+n*Le.uY(r),r=Le.add(r,2),this.x1=o+i*Le.uX(r),this.y1=s+n*Le.uY(r),r=Le.add(r,2),this.x2=o+i*Le.uX(r),this.y2=s+n*Le.uY(r),r=Le.add(r,2),this.x3=o+i*Le.uX(r),this.y3=s+n*Le.uY(r)):(this.x0=t.x/a,this.y0=t.y/h,this.x1=(t.x+t.width)/a,this.y1=t.y/h,this.x2=(t.x+t.width)/a,this.y2=(t.y+t.height)/h,this.x3=t.x/a,this.y3=(t.y+t.height)/h),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},Pi);function Pi(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}var Ii,Si=new wi,Ai=(Cr(Oi,Ii=ft.a),Oi.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},Oi.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},Oi.prototype.destroy=function(t){var e;this.baseTexture&&(t&&((e=this.baseTexture)&&e.url&&qt[e.url]&&Oi.removeFromCache(e.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Oi.removeFromCache(this),this.textureCacheIds=null},Oi.prototype.clone=function(){return new Oi(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},Oi.prototype.updateUvs=function(){this._uvs===Si&&(this._uvs=new wi),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},Oi.from=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=dt.STRICT_TEXTURE_CACHE);var i="string"==typeof t,n=null,n=i?t:(t._pixiId||(t._pixiId="pixiid_"+zt()),t._pixiId),o=qt[n];if(i&&r&&!o)throw new Error('The cacheId "'+n+'" does not exist in TextureCache.');return o||(e.resolution||(e.resolution=oe(t)),(o=new Oi(new Br(t,e))).baseTexture.cacheId=n,Br.addToCache(o.baseTexture,n),Oi.addToCache(o,n)),o},Oi.fromURL=function(t,e){var r=Object.assign({autoLoad:!1},null==e?void 0:e.resourceOptions),i=Oi.from(t,Object.assign({resourceOptions:r},e),!1),n=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):n.load().then(function(){return Promise.resolve(i)})},Oi.fromBuffer=function(t,e,r,i){return new Oi(Br.fromBuffer(t,e,r,i))},Oi.fromLoader=function(t,e,r){var i=new ri(t);i.url=e;var n=new Oi(new Br(i,{scaleMode:dt.SCALE_MODE,resolution:oe(e)}));return r=r||e,Br.addToCache(n.baseTexture,r),Oi.addToCache(n,r),r!==e&&(Br.addToCache(n.baseTexture,e),Oi.addToCache(n,e)),n},Oi.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),qt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),qt[e]=t)},Oi.removeFromCache=function(t){if("string"==typeof t){var e=qt[t];if(e){var r=e.textureCacheIds.indexOf(t);return-1<r&&e.textureCacheIds.splice(r,1),delete qt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)qt[t.textureCacheIds[i]]===t&&delete qt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(Oi.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(Oi.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(Oi.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(Oi.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(Oi.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),Oi.prototype.castToBaseTexture=function(){return this.baseTexture},Oi);function Oi(t,e,r,i,n,o){var s=Ii.call(this)||this;if(s.noFrame=!1,e||(s.noFrame=!0,e=new ce(0,0,1,1)),t instanceof Oi&&(t=t.baseTexture),s.baseTexture=t,s._frame=e,s.trim=i,s.valid=!1,s._uvs=Si,s.uvMatrix=null,s.orig=r||e,s._rotate=Number(n||0),!0===n)s._rotate=2;else if(s._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return s.defaultAnchor=o?new xe(o.x,o.y):new xe(0,0),s._updateID=0,s.textureCacheIds=[],t.valid?s.noFrame?t.valid&&s.onBaseTextureUpdated(t):s.frame=e:t.once("loaded",s.onBaseTextureUpdated,s),s.noFrame&&t.on("update",s.onBaseTextureUpdated,s),s}function Ci(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Ai.EMPTY=new Ai(new Br),Ci(Ai.EMPTY),Ci(Ai.EMPTY.baseTexture),Ai.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Ai(new Br(new Kr(t)))}(),Ci(Ai.WHITE),Ci(Ai.WHITE.baseTexture);var Mi,Ri=(Cr(Di,Mi=Ai),Object.defineProperty(Di.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Di.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=0<t&&0<e,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},Di.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},Di.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new Di(new Ti(t))},Di);function Di(t,e){var r,i,n,o,s=this,a=null;return t instanceof Ti||(r=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],console.warn("Please use RenderTexture.create("+r+", "+i+") instead of the ctor directly."),a=arguments[0],e=null,t=new Ti({width:r,height:i,scaleMode:n,resolution:o})),(s=Mi.call(this,t,e)||this).legacyRenderer=a,s.valid=!0,s.filterFrame=null,s.filterPoolKey=null,s.updateUvs(),s}var Li=(Ni.prototype.createTexture=function(t,e){var r=new Ti(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Ri(r)},Ni.prototype.getOptimalTexture=function(t,e,r){void 0===r&&(r=1);var i=Ni.SCREEN_KEY;t*=r,e*=r,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(i=(65535&(t=Bt(t)))<<16|65535&(e=Bt(e))),this.texturePool[i]||(this.texturePool[i]=[]);var n=this.texturePool[i].pop();return(n=n||this.createTexture(t,e)).filterPoolKey=i,n.setResolution(r),n},Ni.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},Ni.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},Ni.prototype.returnFilterTexture=function(t){this.returnTexture(t)},Ni.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},Ni.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=Ni.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=0<t.width&&0<t.height,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},Ni.SCREEN_KEY="screen",Ni);function Ni(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}var Fi=(Ui.prototype.destroy=function(){this.buffer=null},Ui.from=function(t,e,r,i,n){return new Ui(t,e,r,i,n)},Ui);function Ui(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}var Bi=0,ki=(ji.prototype.update=function(t){this.data=t||this.data,this._updateID++},ji.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},ji.prototype.destroy=function(){this.dispose(),this.data=null},ji.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new ji(t)},ji);function ji(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Bi++,this.disposeRunner=new Pr("disposeBuffer")}function Xi(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Gi={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Hi={5126:4,5123:2,5121:1},zi=0,Yi={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Vi=(Wi.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ki||(e instanceof Array&&(e=new Float32Array(e)),e=new ki(e));var h=t.split("|");if(1<h.length){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Fi(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},Wi.prototype.getAttribute=function(t){return this.attributes[t]},Wi.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Wi.prototype.addIndex=function(t){return t instanceof ki||(t instanceof Array&&(t=new Uint16Array(t)),t=new ki(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Wi.prototype.getIndex=function(){return this.indexBuffer},Wi.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new ki;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Hi[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,h=0,o=0;o<t.length;o++){var u=e[o],l=t[o],c=Xi(l);n[c]||(n[c]=new Gi[c](s)),a=n[c];for(var d=0;d<l.length;d++){a[(d/u|0)*i+h+d%u]=l[d]}h+=u}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Wi.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Wi.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Wi.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Wi.prototype.clone=function(){for(var t=new Wi,e=0;e<this.buffers.length;e++)t.buffers[e]=new ki(this.buffers[e].data.slice(0));for(var e in this.attributes){var r=this.attributes[e];t.attributes[e]=new Fi(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Wi.merge=function(t){for(var e,r=new Wi,i=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(s=0;s<e.buffers.length;s++)i[s]=new(Yi[Xi(e.buffers[s].data)])(n[s]),r.buffers[s]=new ki(i[s]);for(s=0;s<t.length;s++){e=t[s];for(a=0;a<e.buffers.length;a++)i[a].set(e.buffers[a].data,o[a]),o[a]+=e.buffers[a].data.length}if(r.attributes=e.attributes,e.indexBuffer){r.indexBuffer=r.buffers[e.buffers.indexOf(e.indexBuffer)],r.indexBuffer.index=!0;for(var h=0,u=0,l=0,c=0,s=0;s<e.buffers.length;s++)if(e.buffers[s]!==e.indexBuffer){c=s;break}for(var s in e.attributes){var d=e.attributes[s];(0|d.buffer)===c&&(u+=d.size*Hi[d.type]/4)}for(s=0;s<t.length;s++){for(var p=t[s].indexBuffer.data,a=0;a<p.length;a++)r.indexBuffer.data[a+l]+=h;h+=e.buffers[c].data.length/u,l+=p.length}}return r},Wi);function Wi(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=zi++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Pr("disposeGeometry"),this.refCount=0}var qi,Zi=(Cr(Ki,qi=Vi),Ki);function Ki(){var t=qi.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}var Ji,Qi=(Cr($i,Ji=Vi),$i.prototype.map=function(t,e){var r,i;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},$i.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},$i);function $i(){var t=Ji.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new ki(t.vertices),t.uvBuffer=new ki(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}var tn=0,en=(rn.prototype.update=function(){this.dirtyId++},rn.prototype.add=function(t,e,r){this.uniforms[t]=new rn(e,r)},rn.from=function(t,e){return new rn(t,e)},rn);function rn(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=tn++,this.static=!!e}var nn=(on.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},on);function on(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new ce,this.destinationFrame=new ce,this.filters=[]}var sn,an=(Cr(hn,sn=fi),hn.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new nn,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++)var l=e[u],o=Math.min(o,l.resolution),s=this.useMaxPadding?Math.max(s,l.padding):s+l.padding,a=a||l.autoFit,h=h||l.legacy;1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var c=this.tempRect;c.width=n.sourceFrame.width,c.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,c),r.renderTexture.clear()},hn.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n,o=i.inputSize,s=i.inputPixel,a=i.inputClamp;o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*e.resolution,s[1]=o[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy&&((n=i.filterArea)[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=e.sourceFrame.x,n[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp),this.globalUniforms.update();var h=t[t.length-1];if(1<e.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,rt.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture;(d=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame;for(var l=0,l=0;l<r.length-1;++l){r[l].apply(this,u,d,rt.CLEAR,e);var c=u,u=d,d=c}r[l].apply(this,u,h.renderTexture,rt.BLEND,e),this.returnFilterTexture(u),this.returnFilterTexture(d)}e.clear(),this.statePool.push(e)},hn.prototype.bindAndClear=function(t,e){var r;void 0===e&&(e=rt.CLEAR),t&&t.filterFrame?((r=this.tempRect).width=t.filterFrame.width,r.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,r)):this.renderer.renderTexture.bind(t),"boolean"==typeof e&&(e=e?rt.CLEAR:rt.BLEND,Vt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===rt.CLEAR||e===rt.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},hn.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(j.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(j.TRIANGLE_STRIP))},hn.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(Pe.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},hn.prototype.destroy=function(){this.texturePool.clear(!1)},hn.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},hn.prototype.getFilterTexture=function(t,e){var r;"number"==typeof t&&(r=t,t=e,e=r),t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},hn.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},hn.prototype.emptyPool=function(){this.texturePool.clear(!0)},hn.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},hn);function hn(t){var e=sn.call(this,t)||this;return e.defaultFilterStack=[{}],e.texturePool=new Li,e.texturePool.setScreenSize(t.view),e.statePool=[],e.quad=new Zi,e.quadUv=new Qi,e.tempRect=new ce,e.activeState={},e.globalUniforms=new en({outputFrame:e.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),e.forceClear=!1,e.useMaxPadding=!1,e}var un=(ln.prototype.flush=function(){},ln.prototype.destroy=function(){this.renderer=null},ln.prototype.start=function(){},ln.prototype.stop=function(){this.flush()},ln.prototype.render=function(t){},ln);function ln(t){this.renderer=t}var cn,dn=(Cr(pn,cn=fi),pn.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},pn.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},pn.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},pn.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;0<=i;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},pn.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,h=0;h<s;h++){var u=n[h],l=u._batchLocation;if(0<=l&&l<i&&e[l]===u)o[h]=l;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[h]=a,e[u._batchLocation=a]=u;break}a++}}},pn);function pn(t){var e=cn.call(this,t)||this;return e.emptyRenderer=new un(t),e.currentRenderer=e.emptyRenderer,e}var fn,mn=0,vn=(Cr(yn,fn=fi),Object.defineProperty(yn.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),yn.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=mn++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},yn.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=mn++,this.renderer.runners.contextChange.emit(t)},yn.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},yn.prototype.createContext=function(t,e){var r;if(dt.PREFER_ENV>=R.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},yn.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},yn.prototype.handleContextLost=function(t){t.preventDefault()},yn.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},yn.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},yn.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},yn.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var e="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint");(this.supports.uint32Indices=e)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},yn);function yn(t){var e=fn.call(this,t)||this;return e.webGLVersion=1,e.extensions={},e.supports={uint32Indices:!1},e.handleContextLost=e.handleContextLost.bind(e),e.handleContextRestored=e.handleContextRestored.bind(e),t.view.addEventListener("webglcontextlost",e.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",e.handleContextRestored,!1),e}var gn,_n=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=lt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},bn=new ce,xn=(Cr(Tn,gn=fi),Tn.prototype.contextChange=function(){var e,t,r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ce,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion?(e=this.renderer.context.extensions.drawBuffers,t=this.renderer.context.extensions.depthTexture,dt.PREFER_ENV===R.WEBGL_LEGACY&&(t=e=null),e?r.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,r.drawBuffers=function(){}),t||(this.writeDepthTexture=!1)):this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},Tn.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},Tn.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(Tn.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),Tn.prototype.clear=function(t,e,r,i,n){void 0===n&&(n=F.COLOR|F.DEPTH);var o=this.gl;o.clearColor(t,e,r,i),o.clear(n)},Tn.prototype.initFramebuffer=function(t){var e=this.gl,r=new _n(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},Tn.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},Tn.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),1<r.multisample&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n,o,s,a=[],h=0;h<i;h++){0===h&&1<r.multisample||(o=(n=t.colorTextures[h]).parentTextureArray||n,this.renderer.texture.bind(o,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+h,n.target,o._glTextures[this.CONTEXT_UID].texture,0),a.push(e.COLOR_ATTACHMENT0+h))}1<a.length&&e.drawBuffers(a),t.depthTexture&&this.writeDepthTexture&&(s=t.depthTexture,this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},Tn.prototype.detectSamples=function(t){var e=this.msaaSamples,r=lt.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=lt.NONE),r},Tn.prototype.blit=function(t,e,r){var i=this.current,n=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===n.context.webGLVersion&&i){var a=i.glFramebuffers[s];if(a){if(!t){if(a.multisample<=1)return;a.blitFramebuffer||(a.blitFramebuffer=new _i(i.width,i.height),a.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(t=a.blitFramebuffer).width=i.width,t.height=i.height}e||((e=bn).width=i.width,e.height=i.height),r=r||e;var h=e.width===r.width&&e.height===r.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR)}}},Tn.prototype.disposeFramebuffer=function(t,e){var r,i=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;i&&(delete t.glFramebuffers[this.CONTEXT_UID],0<=(r=this.managedFramebuffers.indexOf(t))&&this.managedFramebuffers.splice(r,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(i.framebuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)))},Tn.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},Tn.prototype.forceStencil=function(){var t,e,r,i,n,o=this.current;!o||(t=o.glFramebuffers[this.CONTEXT_UID])&&!t.stencil&&(o.enableStencil(),e=o.width,r=o.height,n=(i=this.gl).createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,n),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e,r),t.stencil=n,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,n))},Tn.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new ce},Tn);function Tn(t){var e=gn.call(this,t)||this;return e.managedFramebuffers=[],e.unknownFramebuffer=new _i(10,10),e.msaaSamples=null,e}var En,wn=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Pn={5126:4,5123:2,5121:1},In=(Cr(Sn,En=fi),Sn.prototype.contextChange=function(){this.disposeAll(!0);var e,o,t=this.gl=this.renderer.gl,r=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.createVertexArray||(e=this.renderer.context.extensions.vertexArrayObject,dt.PREFER_ENV===R.WEBGL_LEGACY&&(e=null),e?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})),t.vertexAttribDivisor||((o=t.getExtension("ANGLE_instanced_arrays"))?(t.vertexAttribDivisor=function(t,e){return o.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,i,n){return o.drawElementsInstancedANGLE(t,e,r,i,n)},t.drawArraysInstanced=function(t,e,r,i){return o.drawArraysInstancedANGLE(t,e,r,i)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex},Sn.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID];i||((this.managedGeometries[t.id]=t).disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={});var n=i[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},Sn.prototype.reset=function(){this.unbind()},Sn.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i,n,o=t.buffers[r],s=o._glBuffers[this.CONTEXT_UID];o._updateID!==s.updateID&&(s.updateID=o._updateID,i=o.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,e.bindBuffer(i,s.buffer),(this._boundBuffer=s).byteLength>=o.data.byteLength?e.bufferSubData(i,0,o.data):(n=o.static?e.STATIC_DRAW:e.DYNAMIC_DRAW,s.byteLength=o.data.byteLength,e.bufferData(i,o.data,n)))}},Sn.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},Sn.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},Sn.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var c in h)!h[c].size&&e.attributeData[c]?h[c].size=e.attributeData[c].size:h[c].size||console.warn("PIXI Geometry attribute '"+c+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[c].buffer]+=h[c].size*Pn[h[c].type];for(var c in h){var d=h[c],p=d.size;void 0===d.stride&&(u[d.buffer]===p*Pn[d.type]?d.stride=0:d.stride=u[d.buffer]),void 0===d.start&&(d.start=l[d.buffer],l[d.buffer]+=p*Pn[d.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var f=0;f<a.length;f++){var m=a[f];m._glBuffers[i]||(m._glBuffers[i]=new wn(r.createBuffer()),(this.managedBuffers[m.id]=m).disposeRunner.add(this)),m._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s},Sn.prototype.disposeBuffer=function(t,e){var r,i;this.managedBuffers[t.id]&&(delete this.managedBuffers[t.id],r=t._glBuffers[this.CONTEXT_UID],i=this.gl,t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID]))},Sn.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o,s=0;s<n.length;s++){var a=n[s]._glBuffers[this.CONTEXT_UID];a.refCount--,0!==a.refCount||e||this.disposeBuffer(n[s],e)}if(!e)for(var h in r){"g"===h[0]&&(o=r[h],this._activeVao===o&&this.unbind(),i.deleteVertexArray(o))}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},Sn.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},Sn.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},Sn.prototype.draw=function(t,e,r,i){var n,o,s=this.gl,a=this._activeGeometry;return a.indexBuffer?(o=2===(n=a.indexBuffer.data.BYTES_PER_ELEMENT)?s.UNSIGNED_SHORT:s.UNSIGNED_INT,2===n||4===n&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(t,e||a.indexBuffer.data.length,o,(r||0)*n,i||1):s.drawElements(t,e||a.indexBuffer.data.length,o,(r||0)*n):console.warn("unsupported index buffer type: uint32")):a.instanced?s.drawArraysInstanced(t,r,e||a.getSize(),i||1):s.drawArrays(t,r,e||a.getSize()),this},Sn.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},Sn);function Sn(t){var e=En.call(this,t)||this;return e._activeGeometry=null,e._activeVao=null,e.hasVao=!0,e.hasInstance=!0,e.canUseUInt32ElementIndex=!1,e.managedGeometries={},e.managedBuffers={},e}var An=(On.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ht.NONE,this.autoDetect=!0),this._target=null},On.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},On);function On(t){void 0===t&&(t=null),this.type=ht.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}function Cn(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function Mn(t,e,r,i){var n=Cn(t,t.VERTEX_SHADER,e),o=Cn(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function Rn(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Dn(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Rn(2*e);case"bvec3":return Rn(3*e);case"bvec4":return Rn(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ln,Nn={},Fn=Nn;function Un(){var t,e;return(Fn===Nn||Fn&&Fn.isContextLost())&&(t=document.createElement("canvas"),e=void 0,dt.PREFER_ENV>=R.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),Fn=e),Fn}function Bn(t,e,r){if("precision"===t.substring(0,9))return r!==st.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t;var i=e;return e===st.HIGH&&r!==st.HIGH&&(i=st.MEDIUM),"precision "+i+" float;\n"+t}var kn={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};var jn=null,Xn={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Gn(t,e){if(!jn){var r=Object.keys(Xn);jn={};for(var i=0;i<r.length;++i){var n=r[i];jn[t[n]]=Xn[n]}}return jn[e]}var Hn=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],zn={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Yn={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Vn,Wn=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function qn(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=Wn.replace(/%forloop%/gi,function(t){for(var e="",r=0;r<t;++r)0<r&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var Zn=0,Kn={},Jn=(Qn.prototype.extractData=function(t,e){var r,i=Un();i?(r=Mn(i,t,e),this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)):(this.uniformData={},this.attributeData={})},Qn.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=Gn(e,s.type),h={type:a,name:s.name,size:kn[a],location:0};r[s.name]=h,i.push(h)}i.sort(function(t,e){return t.name>e.name?1:-1});for(o=0;o<i.length;o++)i[o].location=o;return r},Qn.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),h=Gn(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:Dn(h,o.size)}}return r},Object.defineProperty(Qn,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Qn,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),Qn.from=function(t,e,r){var i=t+e,n=Wt[i];return n||(Wt[i]=n=new Qn(t,e,r)),n},Qn);function Qn(t,e,r){var i,n;void 0===r&&(r="pixi-shader"),this.id=Zn++,this.vertexSrc=t||Qn.defaultVertexSrc,this.fragmentSrc=e||Qn.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Kn[r]?(Kn[r]++,r+="-"+Kn[r]):Kn[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=Bn(this.vertexSrc,dt.PRECISION_VERTEX,st.HIGH),this.fragmentSrc=Bn(this.fragmentSrc,dt.PRECISION_FRAGMENT,(Ln||(Ln=st.MEDIUM,(i=Un())&&i.getShaderPrecisionFormat&&(n=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT),Ln=n.precision?st.HIGH:st.MEDIUM)),Ln))),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}var $n=(to.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},to.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(to.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),to.from=function(t,e,r){return new to(Jn.from(t,e),r)},to);function to(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof en?e:new en(e):new en({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}var eo=(Object.defineProperty(ro.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(ro.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(ro.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(ro.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(ro.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(ro.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==B.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(ro.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),ro.for2d=function(){var t=new ro;return t.depthTest=!1,t.blend=!0,t},ro);function ro(){this.data=0,this.blendMode=B.NORMAL,this.polygonOffset=0,this.blend=!0}var io,no=(Cr(oo,io=$n),oo.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(oo.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(oo,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(oo,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),oo);function oo(t,e,r){var i=this,n=Jn.from(t||oo.defaultVertexSrc,e||oo.defaultFragmentSrc);return(i=io.call(this,n,r)||this).padding=0,i.resolution=dt.FILTER_RESOLUTION,i.enabled=!0,i.autoFit=!0,i.legacy=!!i.program.attributeData.aTextureCoord,i.state=new eo,i}var so=new Pe,ao=(Object.defineProperty(ho.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),ho.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},ho.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(so.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(so));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},ho);function ho(t,e){this._texture=t,this.mapCoord=new Pe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}var uo,lo=(Cr(co,uo=no),co.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ao(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},co);function co(t){var e=this,r=new Pe,e=uo.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this;return t.renderable=!1,e.maskSprite=t,e.maskMatrix=r,e}var po,fo=(Cr(mo,po=fi),mo.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},mo.prototype.push=function(t,e){var r,i=e;switch(i.isMaskData||((r=this.maskDataPool.pop()||new An).pooled=!0,r.maskObject=e,i=r),i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=t,i.type){case ht.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case ht.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case ht.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},mo.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case ht.SCISSOR:this.renderer.scissor.pop();break;case ht.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case ht.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},mo.prototype.detect=function(t){var e,r,i,n=t.maskObject;n.isSprite?t.type=ht.SPRITE:(t.type=ht.STENCIL,this.enableScissor&&n.isFastRect&&n.isFastRect()&&(e=n.worldTransform,r=Math.atan2(e.b,e.a),i=Math.atan2(e.d,e.c),r=Math.round(r*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0==(r=(r%9e3+9e3)%9e3)&&9e3==i&&(t.type=ht.SCISSOR)))},mo.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];(i=i||(this.alphaMaskPool[this.alphaMaskIndex]=[new lo(e)]))[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var n=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},mo.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},mo);function mo(t){var e=po.call(this,t)||this;return e.enableScissor=!1,e.alphaMaskPool=[],e.maskDataPool=[],e.maskStack=[],e.alphaMaskIndex=0,e}var vo,yo=(Cr(go,vo=fi),go.prototype.getStackLength=function(){return this.maskStack.length},go.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},go.prototype._useCurrent=function(){},go.prototype.destroy=function(){vo.prototype.destroy.call(this),this.maskStack=null},go);function go(t){var e=vo.call(this,t)||this;return e.maskStack=[],e.glConst=0,e}var _o,bo=(Cr(xo,_o=yo),xo.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},xo.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},xo.prototype.pop=function(){var t=this.renderer.gl;0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},xo.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=e?e.resolution:this.renderer.resolution,a=(t.x-n.x)*s+o.x,h=(t.y-n.y)*s+o.y,u=t.width*s,l=t.height*s;i&&(a+=i.tx*s,h+=i.ty*s),e||(h=this.renderer.height-l-h),this.renderer.gl.scissor(a,h,u,l)},xo);function xo(t){var e=_o.call(this,t)||this;return e.glConst=WebGLRenderingContext.SCISSOR_TEST,e}var To,Eo=(Cr(wo,To=yo),wo.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},wo.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},wo.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},wo.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},wo.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},wo);function wo(t){var e=To.call(this,t)||this;return e.glConst=WebGLRenderingContext.STENCIL_TEST,e}var Po,Io=(Cr(So,Po=fi),So.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},So.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=o*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-o-e.y*n.d},So.prototype.setTransform=function(t){},So);function So(t){var e=Po.call(this,t)||this;return e.destinationFrame=null,e.sourceFrame=null,e.defaultFrame=null,e.projectionMatrix=new Pe,e.transform=null,e}var Ao,Oo=new ce,Co=new ce,Mo=new ce,Ro=(Cr(Do,Ao=fi),Do.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;(this.current=t)?(o=(i=t.baseTexture).resolution,e||(Oo.width=t.frame.width,Oo.height=t.frame.height,e=Oo),r||(Co.x=t.frame.x,Co.y=t.frame.y,Co.width=e.width,Co.height=e.height,r=Co),n=i.framebuffer):(o=s.resolution,e||(Oo.width=s.screen.width,Oo.height=s.screen.height,e=Oo),r||((r=Oo).width=e.width,r.height=e.height)),Mo.x=r.x*o,Mo.y=r.y*o,Mo.width=r.width*o,Mo.height=r.height*o,this.renderer.framebuffer.bind(n,Mo),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},Do.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},Do.prototype.resize=function(){this.bind(null)},Do.prototype.reset=function(){this.bind(null)},Do);function Do(t){var e=Ao.call(this,t)||this;return e.clearColor=t._backgroundColorRgba,e.defaultMaskStack=[],e.current=null,e.sourceFrame=new ce,e.destinationFrame=new ce,e}var Lo=function(){},No=(Fo.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},Fo);function Fo(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}var Uo,Bo=0,ko={textureCount:0},jo=(Cr(Xo,Uo=fi),Xo.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Vn)return Vn;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Vn=!0===t({a:"b"},"a","b")}catch(t){Vn=!1}return Vn}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},Xo.prototype.contextChange=function(t){this.gl=t,this.reset()},Xo.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(ko.textureCount=0,this.syncUniformGroup(t.uniformGroup,ko)),i},Xo.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},Xo.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},Xo.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},Xo.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var n=e[i];if(n){for(var o,s=t.uniforms[i],a=!1,h=0;h<Hn.length;h++)if(Hn[h].test(n,s)){r.push(Hn[h].code(i,s)),a=!0;break}a||(o=(1===n.size?zn:Yn)[n.type].replace("location",'ud["'+i+'"].location'),r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+o+";"))}else t.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},Xo.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},Xo.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},Xo.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=Mn(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:Dn(a.type,a.size)}}var h=new No(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=h},Xo.prototype.reset=function(){this.program=null,this.shader=null},Xo.prototype.destroy=function(){this.destroyed=!0},Xo);function Xo(t){var e=Uo.call(this,t)||this;return e.destroyed=!1,e.systemCheck(),e.gl=null,e.shader=null,e.program=null,e.cache={},e.id=Bo++,e}var Go,Ho=(Cr(zo,Go=fi),zo.prototype.contextChange=function(t){var e,r;this.gl=t,this.blendModes=(e=t,void 0===r&&(r=[]),r[B.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.ADD]=[e.ONE,e.ONE],r[B.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.NONE]=[0,0],r[B.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],r[B.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[B.SRC_IN]=[e.DST_ALPHA,e.ZERO],r[B.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],r[B.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],r[B.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],r[B.DST_IN]=[e.ZERO,e.SRC_ALPHA],r[B.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],r[B.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],r[B.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],r[B.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],r),this.set(this.defaultState),this.reset()},zo.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},zo.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},zo.prototype.setBlend=function(t){this.updateCheck(zo.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},zo.prototype.setOffset=function(t){this.updateCheck(zo.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},zo.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},zo.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},zo.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},zo.prototype.setBlendMode=function(t){var e,r;t!==this.blendMode&&(this.blendMode=t,e=this.blendModes[t],r=this.gl,2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD)))},zo.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},zo.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},zo.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},zo.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},zo.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},zo);function zo(t){var e=Go.call(this,t)||this;return e.gl=null,e.stateId=0,e.polygonOffset=0,e.blendMode=B.NONE,e._blendEq=!1,e.map=[],e.map[0]=e.setBlend,e.map[1]=e.setOffset,e.map[2]=e.setCullFace,e.map[3]=e.setDepthTest,e.map[4]=e.setFrontFace,e.checks=[],e.defaultState=new eo,e.defaultState.blend=!0,e}var Yo,Vo=(Cr(Wo,Yo=fi),Wo.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==nt.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},Wo.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),r=!(e[i]=null))}if(r){for(var o=0,i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},Wo.prototype.unload=function(t){var e,r=this.renderer.texture;null!==(e=t._texture)&&void 0!==e&&e.framebuffer&&r.destroyTexture(t._texture);for(var i=t.children.length-1;0<=i;i--)this.unload(t.children[i])},Wo);function Wo(t){var e=Yo.call(this,t)||this;return e.count=0,e.checkCount=0,e.maxIdle=dt.GC_MAX_IDLE,e.checkCountMax=dt.GC_MAX_CHECK_COUNT,e.mode=dt.GC_MODE,e}var qo,Zo=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Ko=(Cr(Jo,qo=fi),Jo.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Zo(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Zo(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},Jo.prototype.bind=function(t,e){void 0===e&&(e=0);var r,i=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;t.valid&&(t.touched=this.renderer.textureGC.count,r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t),this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t)}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},Jo.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},Jo.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[i]=null)},Jo.prototype.initTexture=function(t){var e=new Zo(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},Jo.prototype.initTextureType=function(t,e){var r;e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion&&(r=this.renderer.gl,t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===V.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F))},Jo.prototype.updateTexture=function(t){var e,r,i,n,o=t._glTextures[this.CONTEXT_UID];o&&(e=this.renderer,this.initTextureType(t,o),t.resource&&t.resource.upload(e,t,o)||(r=t.realWidth,i=t.realHeight,n=e.gl,(o.width!==r||o.height!==i||o.dirtyId<0)&&(o.width=r,o.height=i,n.texImage2D(t.target,0,o.internalFormat,r,i,0,t.format,o.type,null))),t.dirtyStyleId!==o.dirtyStyleId&&this.updateTextureStyle(t),o.dirtyId=t.dirtyId)},Jo.prototype.destroyTexture=function(t,e){var r,i=this.gl;(t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],e||-1!==(r=this.managedTextures.indexOf(t))&&Xt(this.managedTextures,r,1))},Jo.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==Q.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=1<=t.mipmap:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=K.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},Jo.prototype.setStyle=function(t,e){var r,i,n=this.gl;e.mipmap&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?(n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===q.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST),(r=this.renderer.context.extensions.anisotropicFiltering)&&0<t.anisotropicLevel&&t.scaleMode===q.LINEAR&&(i=Math.min(t.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),n.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i))):n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===q.LINEAR?n.LINEAR:n.NEAREST),n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===q.LINEAR?n.LINEAR:n.NEAREST)},Jo);function Jo(t){var e=qo.call(this,t)||this;return e.boundTextures=[],e.currentLocation=-1,e.managedTextures=[],e._unknownBoundTextures=!1,e.unknownTexture=new Br,e}var Qo,$o={FilterSystem:an,BatchSystem:dn,ContextSystem:vn,FramebufferSystem:xn,GeometrySystem:In,MaskSystem:fo,ScissorSystem:bo,StencilSystem:Eo,ProjectionSystem:Io,RenderTextureSystem:Ro,ShaderSystem:jo,StateSystem:Ho,TextureGCSystem:Vo,TextureSystem:Ko},ts=new Pe,es=(Cr(rs,Qo=ft.a),rs.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(rs.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(rs.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),rs.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},rs.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=Ri.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return ts.tx=-i.x,ts.ty=-i.y,this.render(t,n,!1,ts,!!t.parent),n},rs.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=L.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(rs.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=It(t),Pt(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),rs);function rs(t,e){void 0===t&&(t=L.UNKNOWN);var r=Qo.call(this)||this;return(e=Object.assign({},dt.RENDER_OPTIONS,e)).roundPixels&&(dt.ROUND_PIXELS=e.roundPixels,Vt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),r.options=e,r.type=t,r.screen=new ce(0,0,e.width,e.height),r.view=e.view||document.createElement("canvas"),r.resolution=e.resolution||dt.RESOLUTION,r.transparent=e.transparent,r.autoDensity=e.autoDensity||e.autoResize||!1,r.preserveDrawingBuffer=e.preserveDrawingBuffer,r.clearBeforeRender=e.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,0],r._backgroundColorString="#000000",r.backgroundColor=e.backgroundColor||r._backgroundColor,r._lastObjectRendered=null,r.plugins={},r}var is,ns=(Cr(os,is=es),os.create=function(t){if(wt())return new os(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},os.prototype.addSystem=function(t,e){e=e||t.name;var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},os.prototype.render=function(t,e,r,i,n){var o;this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,this.context.isLost||(e||(this._lastObjectRendered=t),n||(o=t.enableTempParent(),t.updateTransform(),t.disableTempParent(o)),this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))},os.prototype.resize=function(t,e){is.prototype.resize.call(this,t,e),this.runners.resize.emit(t,e)},os.prototype.reset=function(){return this.runners.reset.emit(),this},os.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},os.prototype.destroy=function(t){for(var e in this.runners.destroy.emit(),this.runners)this.runners[e].destroy();is.prototype.destroy.call(this,t),this.gl=null},os.registerPlugin=function(t,e){(os.__plugins=os.__plugins||{})[t]=e},os);function os(t){var e=is.call(this,L.WEBGL,t)||this;return t=e.options,e.gl=null,e.CONTEXT_UID=0,e.runners={destroy:new Pr("destroy"),contextChange:new Pr("contextChange"),reset:new Pr("reset"),update:new Pr("update"),postrender:new Pr("postrender"),prerender:new Pr("prerender"),resize:new Pr("resize")},e.globalUniforms=new en({projectionMatrix:new Pe},!0),e.addSystem(fo,"mask").addSystem(vn,"context").addSystem(Ho,"state").addSystem(jo,"shader").addSystem(Ko,"texture").addSystem(In,"geometry").addSystem(xn,"framebuffer").addSystem(bo,"scissor").addSystem(Eo,"stencil").addSystem(Io,"projection").addSystem(Vo,"textureGC").addSystem(an,"filter").addSystem(Ro,"renderTexture").addSystem(dn,"batch"),e.initPlugins(os.__plugins),t.context?e.context.initFromContext(t.context):e.context.initFromOptions({alpha:!!e.transparent,antialias:t.antialias,premultipliedAlpha:e.transparent&&"notMultiplied"!==e.transparent,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:e.options.powerPreference}),e.renderingToScreen=!0,Et(2===e.context.webGLVersion?"WebGL 2":"WebGL 1"),e.resize(e.options.width,e.options.height),e}function ss(t){return ns.create(t)}var as="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",hs="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",us=function(){this.texArray=null,this.blend=0,this.type=j.TRIANGLES,this.start=0,this.size=0,this.data=null},ls=(cs.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},cs);function cs(){this.elements=[],this.ids=[],this.count=0}var ds=(Object.defineProperty(ps.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(ps.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(ps.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(ps.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(ps.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),ps.prototype.view=function(t){return this[t+"View"]},ps.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},ps.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},ps);function ps(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}var fs,ms=(Cr(vs,fs=un),vs.prototype.contextChange=function(){var t=this.renderer.gl;dt.PREFER_ENV===R.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),dt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=qn(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},vs.prototype.initFlushBuffers=function(){for(var t=vs._drawCallPool,e=vs._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new us);for(;e.length<i;)e.push(new ls);for(var n=0;n<this.MAX_TEXTURES;n++)this._tempBoundTextures[n]=null},vs.prototype.onPrerender=function(){this._flushId=0},vs.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},vs.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,r=vs._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++Br._globalBatch,a=0,h=r[0],u=0;i.copyBoundTextures(n,e);for(var l=0;l<this._bufferSize;++l){var c=t[l];t[l]=null,c._batchEnabled!==s&&(h.count>=e&&(i.boundArray(h,n,s,e),this.buildDrawCalls(h,u,l),u=l,h=r[++a],++s),c._batchEnabled=s,c.touched=o,h.elements[h.count++]=c)}0<h.count&&(i.boundArray(h,n,s,e),this.buildDrawCalls(h,u,this._bufferSize),++a,++s);for(l=0;l<n.length;l++)n[l]=null;Br._globalBatch=s},vs.prototype.buildDrawCalls=function(t,e,r){var i=this._bufferedElements,n=this._attributeBuffer,o=this._indexBuffer,s=this.vertexSize,a=vs._drawCallPool,h=this._dcIndex,u=this._aIndex,l=this._iIndex,c=a[h];c.start=this._iIndex,c.texArray=t;for(var d=e;d<r;++d){var p=i[d],f=p._texture.baseTexture,m=Ot[f.alphaMode?1:0][p.blendMode];i[d]=null,e<d&&c.blend!==m&&(c.size=l-c.start,e=d,(c=a[++h]).texArray=t,c.start=l),this.packInterleavedGeometry(p,n,o,u,l),u+=p.vertexData.length/2*s,l+=p.indices.length,c.blend=m}e<r&&(c.size=l-c.start,++h),this._dcIndex=h,this._aIndex=u,this._iIndex=l},vs.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},vs.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,r=this._indexBuffer;dt.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},vs.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,r=e.gl,i=e.state,n=vs._drawCallPool,o=null,s=0;s<t;s++){var a=n[s],h=a.texArray,u=a.type,l=a.size,c=a.start,d=a.blend;o!==h&&(o=h,this.bindAndClearTexArray(h)),this.state.blendMode=d,i.set(this.state),r.drawElements(u,l,r.UNSIGNED_SHORT,2*c)}},vs.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},vs.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),dt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},vs.prototype.stop=function(){this.flush()},vs.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),fs.prototype.destroy.call(this)},vs.prototype.getAttributeBuffer=function(t){var e=Bt(Math.ceil(t/8)),r=jt(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new ds(i*this.vertexSize*4)),n},vs.prototype.getIndexBuffer=function(t){var e=Bt(Math.ceil(t/12)),r=jt(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},vs.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?Rt(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[i++]=l[f],s[i++]=l[f+1],s[i++]=h[f],s[i++]=h[f+1],o[i++]=p,s[i++]=c;for(f=0;f<u.length;f++)r[n++]=a+u[f]},vs._drawCallPool=[],vs._textureArrayPool=[],vs);function vs(t){var e=fs.call(this,t)||this;return e.shaderGenerator=null,e.geometryClass=null,e.vertexSize=null,e.state=eo.for2d(),e.size=4*dt.SPRITE_BATCH_SIZE,e._vertexCount=0,e._indexCount=0,e._bufferedElements=[],e._bufferedTextures=[],e._bufferSize=0,e._shader=null,e._packedGeometries=[],e._packedGeometryPoolSize=2,e._flushId=0,e._aBuffers={},e._iBuffers={},e.MAX_TEXTURES=1,e.renderer.on("prerender",e.onPrerender,e),t.runners.contextChange.add(e),e._dcIndex=0,e._aIndex=0,e._iIndex=0,e._attributeBuffer=null,e._indexBuffer=null,e._tempBoundTextures=[],e}var ys=(gs.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=en.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Jn(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Pe,default:this.defaultGroupCache[t]};return new $n(this.programCache[t],n)},gs.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)0<r&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},gs);function gs(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}var _s,bs=(Cr(xs,_s=Vi),xs);function xs(t){void 0===t&&(t=!1);var e=_s.call(this)||this;return e._buffer=new ki(null,t,!1),e._indexBuffer=new ki(null,t,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,V.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,V.FLOAT).addAttribute("aColor",e._buffer,4,!0,V.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,V.FLOAT).addIndex(e._indexBuffer),e}var Ts="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Es="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ws=(Ps.create=function(t){var r,e=Object.assign({vertex:Ts,fragment:Es,geometryClass:bs,vertexSize:6},t),i=e.vertex,n=e.fragment,o=e.vertexSize,s=e.geometryClass;return Cr(a,r=ms),a;function a(t){var e=r.call(this,t)||this;return e.shaderGenerator=new ys(i,n),e.geometryClass=s,e.vertexSize=o,e}},Object.defineProperty(Ps,"defaultVertexSrc",{get:function(){return Ts},enumerable:!1,configurable:!0}),Object.defineProperty(Ps,"defaultFragmentTemplate",{get:function(){return Es},enumerable:!1,configurable:!0}),Ps);function Ps(){}var Is=ws.create(),Ss=(As.registerPlugin=function(t){As._plugins.push(t)},As.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(As.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(As.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),As.prototype.destroy=function(t,e){var r=this,i=As._plugins.slice(0);i.reverse(),i.forEach(function(t){t.destroy.call(r)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},As);
/*!
 * @pixi/app - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function As(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=ss(e),this.stage=new Ze,As._plugins.forEach(function(t){t.init.call(r,e)})}Ss._plugins=[];var Os=(Cs.init=function(t){var i=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),(this._resizeTo=t)&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){var t,e,r;i._resizeTo&&(i.cancelResize(),r=i._resizeTo===window?(e=window.innerWidth,window.innerHeight):(e=(t=i._resizeTo).clientWidth,t.clientHeight),i.renderer.resize(e,r))},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},Cs.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},Cs);function Cs(){}Ss.registerPlugin(Os);
/*!
 * @pixi/extract - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Ms=new ce,Rs=(Ds.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},Ds.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},Ds.prototype.canvas=function(t){var e,r,i,n=this.renderer,o=!1,s=!1;t&&(t instanceof Ri?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(e=i.baseTexture.resolution,r=i.frame,o=!1,n.renderTexture.bind(i)):(e=this.renderer.resolution,o=!0,(r=Ms).width=this.renderer.width,r.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(r.width*e+1e-4),h=Math.floor(r.height*e+1e-4),u=new Qt(a,h,1),l=new Uint8Array(4*a*h),c=n.gl;c.readPixels(r.x*e,r.y*e,a,h,c.RGBA,c.UNSIGNED_BYTE,l);var d,p=u.context.getImageData(0,0,a,h);return Ds.arrayPostDivide(l,p.data),u.context.putImageData(p,0,0),o&&((d=new Qt(u.width,u.height,1)).context.scale(1,-1),d.context.drawImage(u.canvas,0,-h),u.destroy(),u=d),s&&i.destroy(!0),u.canvas},Ds.prototype.pixels=function(t){var e,r,i,n=this.renderer,o=!1;t&&(t instanceof Ri?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(e=i.baseTexture.resolution,r=i.frame,n.renderTexture.bind(i)):(e=n.resolution,(r=Ms).width=n.width,r.height=n.height,n.renderTexture.bind(null));var s=r.width*e,a=r.height*e,h=new Uint8Array(4*s*a),u=n.gl;return u.readPixels(r.x*e,r.y*e,s,a,u.RGBA,u.UNSIGNED_BYTE,h),o&&i.destroy(!0),Ds.arrayPostDivide(h,h),h},Ds.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},Ds.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},Ds);function Ds(t){(this.renderer=t).extract=this}var Ls=r(4),Ns=r.n(Ls),Fs=r(0),Us=r.n(Fs);
/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
function Bs(){}function ks(r,i,n,o){var s=0,a=r.length;!function t(e){e||s===a?n&&n(e):o?setTimeout(function(){i(r[s++],t)},1):i(r[s++],t)}()}function js(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:t,saturated:Bs,unsaturated:Bs,buffer:t/4,empty:Bs,drain:Bs,error:Bs,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){r=0,n.drain=Bs,n.started=!1,n._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),(r+=1)===n.concurrency&&n.saturated(),e(t.data,function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}(function(e){return function(t){--r,e.callback.apply(e,arguments),null!=t&&n.error(t,e.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}(t)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var t=1;t<=n.concurrency;t++)n.process()}}};function i(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var i;n.started=!0,null==t&&n.idle()?setTimeout(function(){return n.drain()},1):(i={data:t,callback:"function"==typeof r?r:Bs},e?n._tasks.unshift(i):n._tasks.push(i),setTimeout(function(){return n.process()},1))}return n}var Xs={};function Gs(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Hs(t,e,r){return e&&Gs(t.prototype,e),r&&Gs(t,r),t}var zs=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Ys=null;function Vs(){}var Ws=function(){function o(t,e,r){if("string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(o.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=o.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Vs,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Us.a,this.onProgress=new Us.a,this.onComplete=new Us.a,this.onAfterMiddleware=new Us.a}o.setExtensionLoadType=function(t,e){qs(o._loadTypeMap,t,e)},o.setExtensionXhrType=function(t,e){qs(o._xhrTypeMap,t,e)};var t=o.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=o.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(o.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case o.LOAD_TYPE.IMAGE:this.type=o.TYPE.IMAGE,this._loadElement("image");break;case o.LOAD_TYPE.AUDIO:this.type=o.TYPE.AUDIO,this._loadSourceElement("audio");break;case o.LOAD_TYPE.VIDEO:this.type=o.TYPE.VIDEO,this._loadSourceElement("video");break;case o.LOAD_TYPE.XHR:default:zs&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function(t){return 0!=(this._flags&t)},t._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(o.STATUS_FLAGS.COMPLETE,!0),this._setFlag(o.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===o.XHR_RESPONSE_TYPE.JSON||this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=o.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t._createSource=function(t,e,r){r=r||t+"/"+this._getExtension(e);var i=document.createElement("source");return i.src=e,i.type=r,i},t._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var t=this.xhr;this.abort(Zs(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t._xhrOnTimeout=function(){var t=this.xhr;this.abort(Zs(t)+" Request timed out.")},t._xhrOnAbort=function(){var t=this.xhr;this.abort(Zs(t)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t,e,r=this.xhr,i="",n=void 0===r.status?200:r.status;if(""!==r.responseType&&"text"!==r.responseType&&void 0!==r.responseType||(i=r.responseText),0===n&&(0<i.length||r.responseType===o.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2==(n/100|0)){if(this.xhrType===o.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=o.TYPE.TEXT;else if(this.xhrType===o.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=o.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(t=new DOMParser,this.data=t.parseFromString(i,"text/xml")):((e=document.createElement("div")).innerHTML=i,this.data=e),this.type=o.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=r.response||i;this.complete()}else this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL)},t._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,(Ys=Ys||document.createElement("a")).href=t;var r=!(t=Ns()(Ys.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},t._determineXhrType=function(){return o._xhrTypeMap[this.extension]||o.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return o._loadTypeMap[this.extension]||o.LOAD_TYPE.XHR},t._getExtension=function(){var t,e,r,i,n=this.url;return(this.isDataUrl?(t=n.indexOf("/"),n.substring(t+1,n.indexOf(";",t))):(e=n.indexOf("?"),r=n.indexOf("#"),i=Math.min(-1<e?e:n.length,-1<r?r:n.length),(n=n.substring(0,i)).substring(n.lastIndexOf(".")+1))).toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case o.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case o.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case o.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case o.XHR_RESPONSE_TYPE.JSON:return"application/json";case o.XHR_RESPONSE_TYPE.DEFAULT:case o.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Hs(o,[{key:"isDataUrl",get:function(){return this._hasFlag(o.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(o.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(o.STATUS_FLAGS.LOADING)}}]),o}();function qs(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function Zs(t){return t.toString().replace("object ","")}Ws.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Ws.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Ws.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Ws.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Ws._loadTypeMap={gif:Ws.LOAD_TYPE.IMAGE,png:Ws.LOAD_TYPE.IMAGE,bmp:Ws.LOAD_TYPE.IMAGE,jpg:Ws.LOAD_TYPE.IMAGE,jpeg:Ws.LOAD_TYPE.IMAGE,tif:Ws.LOAD_TYPE.IMAGE,tiff:Ws.LOAD_TYPE.IMAGE,webp:Ws.LOAD_TYPE.IMAGE,tga:Ws.LOAD_TYPE.IMAGE,svg:Ws.LOAD_TYPE.IMAGE,"svg+xml":Ws.LOAD_TYPE.IMAGE,mp3:Ws.LOAD_TYPE.AUDIO,ogg:Ws.LOAD_TYPE.AUDIO,wav:Ws.LOAD_TYPE.AUDIO,mp4:Ws.LOAD_TYPE.VIDEO,webm:Ws.LOAD_TYPE.VIDEO},Ws._xhrTypeMap={xhtml:Ws.XHR_RESPONSE_TYPE.DOCUMENT,html:Ws.XHR_RESPONSE_TYPE.DOCUMENT,htm:Ws.XHR_RESPONSE_TYPE.DOCUMENT,xml:Ws.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Ws.XHR_RESPONSE_TYPE.DOCUMENT,svg:Ws.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Ws.XHR_RESPONSE_TYPE.DOCUMENT,gif:Ws.XHR_RESPONSE_TYPE.BLOB,png:Ws.XHR_RESPONSE_TYPE.BLOB,bmp:Ws.XHR_RESPONSE_TYPE.BLOB,jpg:Ws.XHR_RESPONSE_TYPE.BLOB,jpeg:Ws.XHR_RESPONSE_TYPE.BLOB,tif:Ws.XHR_RESPONSE_TYPE.BLOB,tiff:Ws.XHR_RESPONSE_TYPE.BLOB,webp:Ws.XHR_RESPONSE_TYPE.BLOB,tga:Ws.XHR_RESPONSE_TYPE.BLOB,json:Ws.XHR_RESPONSE_TYPE.JSON,text:Ws.XHR_RESPONSE_TYPE.TEXT,txt:Ws.XHR_RESPONSE_TYPE.TEXT,ttf:Ws.XHR_RESPONSE_TYPE.BUFFER,otf:Ws.XHR_RESPONSE_TYPE.BUFFER},Ws.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ks="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var Js=window.URL||window.webkitURL;var Qs={caching:function(t,e){var r=this;Xs[t.url]?(t.data=Xs[t.url],t.complete()):t.onComplete.once(function(){return Xs[r.url]=r.data}),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Ws.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Js.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=Ws.TYPE.IMAGE,void(t.data.onload=function(){Js.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+=Ks.charAt(n[s])}return e}(t.xhr.responseText),t.type=Ws.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},$s=/(#[\w-]+)?$/,ta=function(){function o(t,e){var r=this;void 0===t&&(t=""),void 0===e&&(e=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=js(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Us.a,this.onError=new Us.a,this.onLoad=new Us.a,this.onStart=new Us.a,this.onComplete=new Us.a;for(var i=0;i<o._defaultBeforeMiddleware.length;++i)this.pre(o._defaultBeforeMiddleware[i]);for(var n=0;n<o._defaultAfterMiddleware.length;++n)this.use(o._defaultAfterMiddleware[n])}var t=o.prototype;return t.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,e=(r=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Ws(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},t.pre=function(t){return this._beforeMiddleware.push(t),this},t.use=function(t){return this._afterMiddleware.push(t),this},t.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(t){var e,r,i=Ns()(t,{strictMode:!0});return r=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString&&(e=$s.exec(r)[0],-1!==(r=r.substr(0,r.length-e.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=e),r},t._loadResource=function(r,t){var i=this;r._dequeue=t,ks(this._beforeMiddleware,function(t,e){t.call(i,r,function(){e(r.isComplete?{}:null)})},function(){r.isComplete?i._onLoad(r):(r._onLoadBinding=r.onComplete.once(i._onLoad,i),r.load())},!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(r){var i=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),ks(this._afterMiddleware,function(t,e){t.call(i,r,e)},function(){r.onAfterMiddleware.dispatch(r),i.progress=Math.min(100,i.progress+r.progressChunk),i.onProgress.dispatch(i,r),r.error?i.onError.dispatch(r.error,i,r):i.onLoad.dispatch(i,r),i._resourcesParsing.splice(i._resourcesParsing.indexOf(r),1),i._queue.idle()&&0===i._resourcesParsing.length&&i._onComplete()},!0)},Hs(o,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),o}();ta._defaultBeforeMiddleware=[],ta._defaultAfterMiddleware=[],ta.pre=function(t){return ta._defaultBeforeMiddleware.push(t),ta},ta.use=function(t){return ta._defaultAfterMiddleware.push(t),ta};
/*!
 * @pixi/loaders - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ea=Ws,ra=function(t,e){return(ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ia=(na.use=function(t,e){t.data&&t.type===Ws.TYPE.IMAGE&&(t.texture=Ai.fromLoader(t.data,t.url,t.name)),e()},na);function na(){}var oa,sa,aa,ha=(ra(sa=la,aa=oa=ta),sa.prototype=null===aa?Object.create(aa):(ua.prototype=aa.prototype,new ua),la.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(la,"shared",{get:function(){var t=la._shared;return t||((t=new la)._protected=!0,la._shared=t),t},enumerable:!1,configurable:!0}),la.registerPlugin=function(t){return la._plugins.push(t),t.add&&t.add(),la},la._plugins=[],la);function ua(){this.constructor=sa}function la(t,e){for(var r=oa.call(this,t,e)||this,i=0;i<la._plugins.length;++i){var n=la._plugins[i],o=n.pre,s=n.use;o&&r.pre(o),s&&r.use(s)}return r._protected=!1,r}ha.registerPlugin({use:Qs.parsing}),ha.registerPlugin(ia);var ca=(da.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?ha.shared:new ha},da.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},da);
/*!
 * @pixi/particles - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function da(){}var pa=function(t,e){return(pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function fa(t,e){function r(){this.constructor=t}pa(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ma,va=(fa(ya,ma=Ze),ya.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},ya.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(ya.prototype,"tint",{get:function(){return this._tint},set:function(t){Pt(this._tint=t,this.tintRgb)},enumerable:!1,configurable:!0}),ya.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},ya.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},ya.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},ya.prototype.destroy=function(t){ma.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},ya);function ya(t,e,r,i){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var n=ma.call(this)||this;return 16384<r&&(r=16384),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=r,n._buffers=null,n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=B.NORMAL,n.autoResize=i,n.roundPixels=!0,n.baseTexture=null,n.setProperties(e),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}var ga=(_a.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new ki(Lt(this.size),!0,!0),t.addIndex(this.indexBuffer);for(var r=this.dynamicStride=0;r<this.dynamicProperties.length;++r){(s=this.dynamicProperties[r]).offset=e,e+=s.size,this.dynamicStride+=s.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new ki(this.dynamicData,!1,!1);for(var n=0,r=this.staticStride=0;r<this.staticProperties.length;++r){(s=this.staticProperties[r]).offset=n,n+=s.size,this.staticStride+=s.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new ki(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===V.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r){s=this.staticProperties[r];t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===V.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)}},_a.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===V.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},_a.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===V.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},_a.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},_a);function _a(t,e,r){this.geometry=new Vi,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n={attributeName:(n=t[i]).attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||V.FLOAT,offset:n.offset};e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}var ba,xa,Ta,Ea,wa,Pa=(fa(Ia,ba=un),Ia.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){r<o&&!t.autoResize&&(o=r);var s=(s=t._buffers)||(t._buffers=this.generateBuffers(t)),a=e[0]._texture.baseTexture;this.state.blendMode=Ct(t.blendMode,a.alphaMode),n.state.set(this.state);var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=Mt(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=i,d+=1){var p=o-c;i<p&&(p=i),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,c,p);var m=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<m)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},Ia.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new ga(this.properties,n,i));return e},Ia.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new ga(this.properties,r,e)},Ia.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,m=d.trim,v=d.orig;m?(s=(a=m.x-c.anchor.x*v.width)+m.width,h=(u=m.y-c.anchor.y*v.height)+m.height):(s=v.width*(1-c.anchor.x),a=v.width*-c.anchor.x,h=v.height*(1-c.anchor.y),u=v.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},Ia.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},Ia.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},Ia.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0),o+=4*n}},Ia.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=0<a._texture.baseTexture.alphaMode,u=a.alpha,l=u<1&&h?Rt(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},Ia.prototype.destroy=function(){ba.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},Ia);function Ia(t){var e=ba.call(this,t)||this;return e.shader=null,e.properties=null,e.tempMatrix=new Pe,e.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:e.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:e.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:e.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:e.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:V.UNSIGNED_BYTE,uploadFunction:e.uploadTint,offset:0}],e.shader=$n.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),e.state=eo.for2d(),e}(Ta=xa=xa||{}).MITER="miter",Ta.BEVEL="bevel",Ta.ROUND="round",(wa=Ea=Ea||{}).BUTT="butt",wa.ROUND="round",wa.SQUARE="square";var Sa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Aa=(Oa.prototype.clone=function(){var t=new Oa;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},Oa.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ai.WHITE,this.matrix=null,this.visible=!1},Oa.prototype.destroy=function(){this.texture=null,this.matrix=null},Oa);function Oa(){this.color=16777215,this.alpha=1,this.texture=Ai.WHITE,this.matrix=null,this.visible=!1,this.reset()}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Ca=function(t,e){return(Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ma(t,e){function r(){this.constructor=t}Ca(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ra={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(6<=r.length){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=vt()(r,s,2);if(!u)return;for(var l=n.length/2,a=0;a<u.length;a+=3)o.push(u[a]+l),o.push(u[a+1]+l),o.push(u[a+2]+l);for(a=0;a<r.length;a++)n.push(r[a])}}},Da={build:function(t){var e,r,i,n=t.shape,o=t.points,s=n.x,a=n.y;if(o.length=0,i=t.type===se.CIRC?(r=n.radius,n.radius):(r=(e=t.shape).width,e.height),0!==r&&0!==i){var h=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(r+i));h/=2.3;for(var u=2*Math.PI/h,l=0;l<h-.5;l++)o.push(s+Math.sin(-u*l)*r,a+Math.cos(-u*l)*i);o.push(o[0],o[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,h=t.matrix,u=a.x,l=a.y;i.push(t.matrix?h.a*u+h.c*l+h.tx:u,t.matrix?h.b*u+h.d*l+h.ty:l);for(var c=0;c<r.length;c+=2)i.push(r[c],r[c+1]),n.push(o++,s,o)}},La={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,1+n,2+n,1+n,2+n,3+n)}};function Na(t,e,r){return t+(e-t)*r}function Fa(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a,h,u,l,c,d,p,f=s,m=0;m<=20;++m)a=Na(t,r,p=m/20),h=Na(e,i,p),u=Na(r,n,p),l=Na(i,o,p),c=Na(a,u,p),d=Na(h,l,p),f.push(c,d);return f}var Ua={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=Math.max(0,Math.min(e.radius,Math.min(o,s)/2));r.length=0,a?(Fa(i,n+a,i,n,i+a,n,r),Fa(i+o-a,n,i+o,n,i+o,n+a,r),Fa(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),Fa(i+a,n+s,i,n+s,i,n+s-a,r)):r.push(i,n,i+o,n,i+o,n+s,i,n+s)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=vt()(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)i.push(r[a],r[++a])}};function Ba(t,e,r,i,n,o,s,a){var h,u=s?(h=i,-r):(h=-i,r),l=t-r*n+h,c=e-i*n+u,d=t+r*o+h,p=e+i*o+u;return a.push(l,c),a.push(d,p),2}function ka(t,e,r,i,n,o,s,a){var h=r-t,u=i-e,l=Math.atan2(h,u),c=Math.atan2(n-t,o-e);a&&l<c?l+=2*Math.PI:!a&&c<l&&(c+=2*Math.PI);var d=l,p=c-l,f=Math.abs(p),m=Math.sqrt(h*h+u*u),v=1+(15*f*Math.sqrt(m)/Math.PI>>0),y=p/v;if(d+=y,a){s.push(t,e),s.push(r,i);for(var g=1,_=d;g<v;g++,_+=y)s.push(t,e),s.push(t+Math.sin(_)*m,e+Math.cos(_)*m);s.push(t,e),s.push(n,o)}else{s.push(r,i),s.push(t,e);for(g=1,_=d;g<v;g++,_+=y)s.push(t+Math.sin(_)*m,e+Math.cos(_)*m),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*v}function ja(t,e){(t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==se.POLY||i.closeStroke;if(0!==n.length){var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}}:function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o,s,a=t.lineStyle,h=new xe(i[0],i[1]),u=new xe(i[i.length-2],i[i.length-1]),l=r.type!==se.POLY||r.closeStroke,c=Math.abs(h.x-u.x)<n&&Math.abs(h.y-u.y)<n;l&&(i=i.slice(),c&&(i.pop(),i.pop(),u.set(i[i.length-2],i[i.length-1])),o=.5*(h.x+u.x),s=.5*(u.y+h.y),i.unshift(o,s),i.push(o,s));var d,p,f=e.points,m=i.length/2,v=i.length,y=f.length/2,g=a.width/2,_=g*g,b=a.miterLimit*a.miterLimit,x=i[0],T=i[1],E=i[2],w=i[3],P=0,I=0,S=-(T-w),A=x-E,O=Math.sqrt(S*S+A*A);S/=O,A/=O,S*=g,A*=g;var C=a.alignment,M=2*(1-C),R=2*C;l||(a.cap===Ea.ROUND?v+=ka(x-S*(M-R)*.5,T-A*(M-R)*.5,x-S*M,T-A*M,x+S*R,T+A*R,f,!0)+2:a.cap===Ea.SQUARE&&(v+=Ba(x,T,S,A,M,R,!0,f))),f.push(x-S*M,T-A*M),f.push(x+S*R,T+A*R);for(var D=1;D<m-1;++D){x=i[2*(D-1)],T=i[2*(D-1)+1],E=i[2*D],w=i[2*D+1],P=i[2*(D+1)],I=i[2*(D+1)+1],S=-(T-w),A=x-E,S/=O=Math.sqrt(S*S+A*A),A/=O,S*=g,A*=g,d=-(w-I),p=E-P,d/=O=Math.sqrt(d*d+p*p),p/=O,d*=g,p*=g;var L,N,F,U,B,k,j,X,G,H=E-x,z=T-w,Y=E-P,V=I-w,W=z*Y-V*H,q=W<0;Math.abs(W)<.1?(f.push(E-S*M,w-A*M),f.push(E+S*R,w+A*R)):(B=((F=(H*(N=(-d+P)*(-p+w)-(-d+E)*(-p+I))-Y*(L=(-S+x)*(-A+w)-(-S+E)*(-A+T)))/W)-E)*(F-E)+((U=(V*L-z*N)/W)-w)*(U-w),k=E+(F-E)*M,j=w+(U-w)*M,X=E-(F-E)*R,G=w-(U-w)*R,a.join===xa.BEVEL||b<B/_?(q?(f.push(k,j),f.push(E+S*R,w+A*R),f.push(k,j),f.push(E+d*R,w+p*R)):(f.push(E-S*M,w-A*M),f.push(X,G),f.push(E-d*M,w-p*M),f.push(X,G)),v+=2):a.join===xa.ROUND?q?(f.push(k,j),f.push(E+S*R,w+A*R),v+=ka(E,w,E+S*R,w+A*R,E+d*R,w+p*R,f,!0)+4,f.push(k,j),f.push(E+d*R,w+p*R)):(f.push(E-S*M,w-A*M),f.push(X,G),v+=ka(E,w,E-S*M,w-A*M,E-d*M,w-p*M,f,!1)+4,f.push(E-d*M,w-p*M),f.push(X,G)):(f.push(k,j),f.push(X,G)))}x=i[2*(m-2)],T=i[2*(m-2)+1],E=i[2*(m-1)],S=-(T-(w=i[2*(m-1)+1])),A=x-E,S/=O=Math.sqrt(S*S+A*A),A/=O,S*=g,A*=g,f.push(E-S*M,w-A*M),f.push(E+S*R,w+A*R),l||(a.cap===Ea.ROUND?v+=ka(E-S*(M-R)*.5,w-A*(M-R)*.5,E-S*M,w-A*M,E+S*R,w+A*R,f,!1)+2:a.cap===Ea.SQUARE&&(v+=Ba(E,w,S,A,M,R,!1,f)));for(var Z=e.indices,K=Sa.epsilon*Sa.epsilon,D=y;D<v+y-2;++D)x=f[2*D],T=f[2*D+1],E=f[2*(D+1)],w=f[2*(D+1)+1],P=f[2*(D+2)],I=f[2*(D+2)+1],Math.abs(x*(w-I)+E*(I-T)+P*(T-w))<K||Z.push(D,D+1,D+2)}})(t,e)}var Xa,Ga=(Ma(Ha,Xa=ye),Ha);function Ha(t,e,r,i,n,o){void 0===o&&(o=0);n=n||i/2;for(var s=-1*Math.PI/2+o,a=2*r,h=he/a,u=[],l=0;l<a;l++){var c=l%2?n:i,d=l*h+s;u.push(t+c*Math.cos(d),e+c*Math.sin(d))}return Xa.call(this,u)||this}var za=(Ya.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,m=n*Math.sqrt(d)/c,v=n*Math.sqrt(p)/c,y=m*f/d,g=v*f/p,_=m*l+v*h,b=m*u+v*a,x=h*(v+y),T=a*(v+y),E=l*(m+g),w=u*(m+g);return{cx:_+t,cy:b+e,radius:n,startAngle:Math.atan2(T-b,x-_),endAngle:Math.atan2(w-b,E-_),anticlockwise:l*a<h*u}},Ya.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=Sa._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/he)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),m=l-1,v=m%1/m,y=0;y<=m;++y){var g=c+o+d*(y+v*y),_=Math.cos(g),b=-Math.sin(g);h.push((p*_+f*b)*n+r,(p*-b+f*_)*n+i)}},Ya);function Ya(){}var Va=(Wa.curveLength=function(t,e,r,i,n,o,s,a){for(var h,u,l,c,d,p,f,m,v,y,g=0,_=t,b=e,x=1;x<=10;++x)v=_-(f=(p=(d=(c=1-(h=x/10))*c)*c)*t+3*d*h*r+3*c*(u=h*h)*n+(l=u*h)*s),y=b-(m=p*e+3*d*h*i+3*c*u*o+l*a),_=f,b=m,g+=Math.sqrt(v*v+y*y);return g},Wa.curveTo=function(t,e,r,i,n,o,s){var a=s[s.length-2],h=s[s.length-1];s.length-=2;var u,l,c,d,p,f=Sa._segmentsCount(Wa.curveLength(a,h,t,e,r,i,n,o));s.push(a,h);for(var m,v=1;v<=f;++v)c=(l=(u=1-(m=v/f))*u)*u,p=(d=m*m)*m,s.push(c*a+3*l*m*t+3*u*d*r+p*n,c*h+3*l*m*e+3*u*d*i+p*o)},Wa);function Wa(){}var qa=(Za.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),m=2*l*f,v=2*Math.sqrt(d),y=c/f;return(m*p+f*c*(p-v)+(4*d*l-c*c)*Math.log((2*f+y+p)/(y+v)))/(4*m)},Za.curveTo=function(t,e,r,i,n){for(var o=n[n.length-2],s=n[n.length-1],a=Sa._segmentsCount(Za.curveLength(o,s,t,e,r,i)),h=1;h<=a;++h){var u=h/a,l=o+(t-o)*u,c=s+(e-s)*u;n.push(l+(t+(r-t)*u-l)*u,c+(e+(i-e)*u-c)*u)}},Za);function Za(){}var Ka,Ja=(Qa.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},Qa.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},Qa.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},Qa);function Qa(){this.reset()}var $a=((Ka={})[se.POLY]=Ra,Ka[se.CIRC]=Da,Ka[se.ELIP]=Da,Ka[se.RECT]=La,Ka[se.RREC]=Ua,Ka),th=[],eh=[],rh={buildPoly:Ra,buildCircle:Da,buildRectangle:La,buildRoundedRectangle:Ua,FILL_COMMANDS:$a,BATCH_POOL:th,DRAW_CALL_POOL:eh,buildLine:ja,Star:Ga,ArcUtils:za,BezierUtils:Va,QuadraticUtils:qa,BatchPart:Ja},ih=(nh.prototype.clone=function(){return new nh(this.shape,this.fillStyle,this.lineStyle,this.matrix)},nh.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},nh);function nh(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}var oh,sh=new xe,ah=new Ue,hh=(Ma(uh,oh=bs),Object.defineProperty(uh.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),uh.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var t=this.textureIds.length=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),eh.push(this.drawCalls[t]);for(t=this.drawCalls.length=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),th.push(e)}this.batches.length=0},uh.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},uh.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new ih(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},uh.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new ih(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},uh.prototype.destroy=function(){oh.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},uh.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,sh):sh.copyFrom(t),i.shape.contains(sh.x,sh.y)))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++){if(i.holes[o].shape.contains(sh.x,sh.y)){n=!0;break}}if(!n)return!0}}return!1},uh.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,i=null,n=null;0<this.batches.length&&(n=(i=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,h=s.lineStyle;$a[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var u=0;u<2;u++){var l,c,d,p,f=0===u?a:h;f.visible&&(l=f.texture.baseTexture,c=this.indices.length,d=this.points.length/2,l.wrapMode=K.REPEAT,0===u?this.processFill(s):this.processLine(s),0!=(p=this.points.length/2-d)&&(i&&!this._compareStyles(n,f)&&(i.end(c,d),i=null),i||((i=th.pop()||new Ja).begin(f,c,d),this.batches.push(i),n=f),this.addUvs(this.points,e,f.texture,d,p,f.matrix)))}}var m,v=this.indices.length,y=this.points.length/2;i&&i.end(v,y),0!==this.batches.length?(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):(m=65535<y&&t,this.indicesUint16=new(m?Uint32Array:Uint16Array)(this.indices)),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},uh.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},uh.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},uh.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},uh.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*uh.BATCHABLE_SIZE},uh.prototype.buildDrawCalls=function(){for(var t=++Br._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),eh.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=eh.pop();n||((n=new us).texArray=new ls),n.texArray.count=0,n.start=0,n.size=0,n.type=j.TRIANGLES;var o,s=0,a=null,h=!1,u=j.TRIANGLES,l=0;this.drawCalls.push(n);for(e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,p=d.texture.baseTexture;h!==!!d.native&&(u=(h=!!d.native)?j.LINES:j.TRIANGLES,a=null,s=8,t++),a!==p&&(a=p)._batchEnabled!==t&&(8===s&&(t++,(s=0)<n.size&&((n=eh.pop())||((n=new us).texArray=new ls),this.drawCalls.push(n)),n.start=l,n.size=0,n.texArray.count=0,n.type=u),p.touched=1,p._batchEnabled=t,p._batchLocation=s,p.wrapMode=10497,n.texArray.elements[n.texArray.count++]=p,s++),n.size+=c.size,l+=c.size,o=p._batchLocation,this.addColors(r,d.color,d.alpha,c.attribSize),this.addTextureIds(i,o,c.attribSize)}Br._globalBatch=t,this.packAttributes()},uh.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,h=0;h<t.length/2;h++)o[a++]=t[2*h],o[a++]=t[2*h+1],o[a++]=e[2*h],o[a++]=e[2*h+1],s[a++]=r[h],o[a++]=i[h];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},uh.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Ra.triangulate(t,this)):$a[t.type].triangulate(t,this)},uh.prototype.processLine=function(t){ja(t,this);for(var e=0;e<t.holes.length;e++)ja(t.holes[e],this)},uh.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];$a[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},uh.prototype.calculateBounds=function(){var t=this._bounds,e=ah,r=Pe.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n,o=this.graphicsData[i],s=o.shape,a=o.type,h=o.lineStyle,u=o.matrix||Pe.IDENTITY,l=0;h&&h.visible&&(n=h.alignment,l=h.width,a===se.POLY?l*=.5+Math.abs(.5-n):l*=Math.max(0,n)),r!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=u),a===se.RECT||a===se.RREC?e.addFramePad(s.x,s.y,s.x+s.width,s.y+s.height,l,l):a===se.CIRC?e.addFramePad(s.x,s.y,s.x,s.y,s.radius+l,s.radius+l):a===se.ELIP?e.addFramePad(s.x,s.y,s.x,s.y,s.width+l,s.height+l):t.addVerticesMatrix(r,s.points,0,s.points.length,l,l)}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},uh.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},uh.prototype.addColors=function(t,e,r,i){for(var n=Rt((e>>16)+(65280&e)+((255&e)<<16),r);0<i--;)t.push(n)},uh.prototype.addTextureIds=function(t,e,r){for(;0<r--;)t.push(e)},uh.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,h=r.frame;s<n;){var u,l=t[2*(i+s)],c=t[2*(i+s)+1];o&&(u=o.a*l+o.c*c+o.tx,c=o.b*l+o.d*c+o.ty,l=u),s++,e.push(l/h.width,c/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},uh.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=r+2*i,s=e.frame,a=s.width/n.width,h=s.height/n.height,u=s.x/s.width,l=s.y/s.height,c=Math.floor(t[r]+1e-6),d=Math.floor(t[r+1]+1e-6),p=r+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=c,l-=d;for(p=r;p<o;p+=2)t[p]=(t[p]+u)*a,t[p+1]=(t[p+1]+l)*h},uh.BATCHABLE_SIZE=100,uh);function uh(){var t=oh.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new Ue,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}var lh,ch=(Ma(dh,lh=Aa),dh.prototype.clone=function(){var t=new dh;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},dh.prototype.reset=function(){lh.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},dh);function dh(){var t=null!==lh&&lh.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=Ea.BUTT,t.join=xa.MITER,t.miterLimit=10,t}var ph,fh=new Float32Array(3),mh={},vh=(Ma(yh,ph=Ze),Object.defineProperty(yh.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),yh.prototype.clone=function(){return this.finishPoly(),new yh(this._geometry)},Object.defineProperty(yh.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(yh.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(yh.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(yh.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),yh.prototype.lineStyle=function(t){var e;return void 0===t&&(t=null),"number"==typeof t&&(t={width:(e=arguments)[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}),this.lineTextureStyle(t)},yh.prototype.lineTextureStyle=function(e){var t;"number"==typeof e&&(Vt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle"),e={width:(t=arguments)[0],texture:t[1],color:t[2],alpha:t[3],matrix:t[4],alignment:t[5],native:t[6]},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})),e=Object.assign({width:0,texture:Ai.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Ea.BUTT,join:xa.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var r=0<e.width&&0<e.alpha;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this},yh.prototype.startPoly=function(){var t,e;this.currentPath?(t=this.currentPath.points,2<(e=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new ye,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))):(this.currentPath=new ye,this.currentPath.closeStroke=!1)},yh.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},yh.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},yh.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},yh.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},yh.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),qa.curveTo(t,e,r,i,n),this},yh.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),Va.curveTo(t,e,r,i,n,o,this.currentPath.points),this},yh.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o,s,a,h,u,l,c=this.currentPath.points,d=za.curveTo(t,e,r,i,n,c);return d&&(o=d.cx,s=d.cy,a=d.radius,h=d.startAngle,u=d.endAngle,l=d.anticlockwise,this.arc(o,s,a,h,u,l)),this},yh.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=he:o&&i<=n&&(i+=he),0==n-i)return this;var s,a,h=t+Math.cos(i)*r,u=e+Math.sin(i)*r,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;return c?(s=Math.abs(c[c.length-2]-h),a=Math.abs(c[c.length-1]-u),s<l&&a<l||c.push(h,u)):(this.moveTo(h,u),c=this.currentPath.points),za.arc(h,u,t,e,r,i,n,o,c),this},yh.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:Ai.WHITE,color:t,alpha:e})},yh.prototype.beginTextureFill=function(e){var t;e instanceof Ai&&(Vt("v5.2.0","Please use object-based options for Graphics#beginTextureFill"),e={texture:(t=arguments)[0],color:t[1],alpha:t[2],matrix:t[3]},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})),e=Object.assign({texture:Ai.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var r=0<e.alpha;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this},yh.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},yh.prototype.drawRect=function(t,e,r,i){return this.drawShape(new ce(t,e,r,i))},yh.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new _e(t,e,r,i,n))},yh.prototype.drawCircle=function(t,e,r){return this.drawShape(new pe(t,e,r))},yh.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new me(t,e,r,i))},yh.prototype.drawPolygon=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=!0,n=e[0],o=n.points?(i=n.closeStroke,n.points):Array.isArray(e[0])?e[0]:e,s=new ye(o);return s.closeStroke=i,this.drawShape(s),this},yh.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},yh.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new Ga(t,e,r,i,n,o))},yh.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},yh.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===se.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},yh.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},yh.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:Pt(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}},yh.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},yh.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},yh.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,o=e.start,s=r.count,a=0;a<s;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,o)},yh.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!mh[r]){for(var i=new Int32Array(16),n=0;n<16;n++)i[n]=n;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Pe,default:en.from({uSamplers:i},!0)},s=t.plugins[r]._shader.program;mh[r]=new $n(s,o)}e=mh[r]}return e},yh.prototype._calculateBounds=function(){this.finishPoly();var t,e,r,i,n,o=this._geometry;o.graphicsData.length&&(e=(t=o.bounds).minX,r=t.minY,i=t.maxX,n=t.maxY,this._bounds.addFrame(this.transform,e,r,i,n))},yh.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,yh._TEMP_POINT),this._geometry.containsPoint(yh._TEMP_POINT)},yh.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Pt(this.tint,fh),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},yh.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this._geometry.points,u=this.vertexData,l=0,c=0;c<h.length;c+=2){var d=h[c],p=h[c+1];u[l++]=r*d+n*p+s,u[l++]=o*p+i*d+a}}},yh.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},yh.prototype.setMatrix=function(t){return this._matrix=t,this},yh.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},yh.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},yh.prototype.destroy=function(t){ph.prototype.destroy.call(this,t),this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,ph.prototype.destroy.call(this,t)},yh._TEMP_POINT=new xe,yh);function yh(t){void 0===t&&(t=null);var e=ph.call(this)||this;return e._geometry=t||new hh,e._geometry.refCount++,e.shader=null,e.state=eo.for2d(),e._fillStyle=new Aa,e._lineStyle=new ch,e._matrix=null,e._holeMode=!1,e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e.pluginName="batch",e._transformID=-1,e.tint=16777215,e.blendMode=B.NORMAL,e}
/*!
 * @pixi/sprite - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var gh=function(t,e){return(gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var _h,bh,xh,Th=new xe,Eh=new Uint16Array([0,1,2,0,2,3]),wh=(gh(bh=Ih,xh=_h=Ze),bh.prototype=null===xh?Object.create(xh):(Ph.prototype=xh.prototype,new Ph),Ih.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Gt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Gt(this.scale.y)*this._height/this._texture.orig.height)},Ih.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},Ih.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,m=0,f=u?(d=(p=u.x-c._x*l.width)+u.width,(m=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,(m=-c._y*l.height)+l.height);if(h[0]=r*p+n*m+s,h[1]=o*m+i*p+a,h[2]=r*d+n*m+s,h[3]=o*m+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var v=dt.RESOLUTION,y=0;y<h.length;++y)h[y]=Math.round((h[y]*v|0)/v)}},Ih.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},Ih.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},Ih.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},Ih.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new ce),t=this._localBoundsRect),this._bounds.getRectangle(t)):_h.prototype.getLocalBounds.call(this,t)},Ih.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Th);var e,r=this._texture.orig.width,i=this._texture.orig.height,n=-r*this.anchor.x;return Th.x>=n&&Th.x<n+r&&(e=-i*this.anchor.y,Th.y>=e&&Th.y<e+i)},Ih.prototype.destroy=function(t){var e;_h.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(e="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!e)),this._texture=null},Ih.from=function(t,e){return new Ih(t instanceof Ai?t:Ai.from(t,e))},Object.defineProperty(Ih.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ih.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Gt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ih.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Gt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ih.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Ih.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(Ih.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Ai.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),Ih);function Ph(){this.constructor=bh}function Ih(t){var e=_h.call(this)||this;return e._anchor=new Ee(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=B.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||Ai.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=Eh,e.pluginName="batch",e.isSprite=!0,e._roundPixels=dt.ROUND_PIXELS,e}
/*!
 * @pixi/text - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Sh,Ah,Oh=function(t,e){return(Oh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};(Ah=Sh=Sh||{})[Ah.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";var Ch={align:"left",breakWords:!(Ah[Ah.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"),dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Sh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Mh=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Rh=(Dh.prototype.clone=function(){var t={};return Fh(t,this,Ch),new Dh(t)},Dh.prototype.reset=function(){Fh(this,Ch,Ch)},Object.defineProperty(Dh.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Nh(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Nh(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Nh(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(Dh.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),Dh.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;0<=r;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Mh.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Dh);function Dh(t){this.styleID=0,this.reset(),Fh(this,t,t)}function Lh(t){return"number"==typeof t?It(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Nh(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Lh(t[e]);return t}return Lh(t)}function Fh(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var Uh=(Bh.measureText=function(t,e,r,i){void 0===i&&(i=Bh._canvas),r=null==r?e.wordWrap:r;var n=e.toFontString(),o=Bh.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=i.getContext("2d");s.font=n;for(var a=(r?Bh.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=s.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Bh(t,e,d,f,a,h,p+e.leading,u,o)},Bh.wordWrap=function(t,e,r){void 0===r&&(r=Bh._canvas);for(var i=r.getContext("2d"),n=0,o="",s="",a={},h=e.letterSpacing,u=e.whiteSpace,l=Bh.collapseSpaces(u),c=Bh.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=Bh.tokenize(t),m=0;m<f.length;m++){var v=f[m];if(Bh.isNewline(v)){if(!c){s+=Bh.addLine(o),d=!l,o="",n=0;continue}v=" "}if(l){var y=Bh.isBreakingSpace(v),g=Bh.isBreakingSpace(o[o.length-1]);if(y&&g)continue}var _=Bh.getFromCache(v,h,a,i);if(p<_)if(""!==o&&(s+=Bh.addLine(o),o="",n=0),Bh.canBreakWords(v,e.breakWords))for(var b=Bh.wordWrapSplit(v),x=0;x<b.length;x++){for(var T=b[x],E=1;b[x+E];){var w=b[x+E],P=T[T.length-1];if(Bh.canBreakChars(P,w,v,x,e.breakWords))break;T+=w,E++}x+=T.length-1;var I=Bh.getFromCache(T,h,a,i);p<I+n&&(s+=Bh.addLine(o),d=!1,o="",n=0),o+=T,n+=I}else{0<o.length&&(s+=Bh.addLine(o),o="",n=0);var S=m===f.length-1;s+=Bh.addLine(v,!S),d=!1,o="",n=0}else p<_+n&&(d=!1,s+=Bh.addLine(o),o="",n=0),(0<o.length||!Bh.isBreakingSpace(v)||d)&&(o+=v,n+=_)}return s+=Bh.addLine(o,!1)},Bh.addLine=function(t,e){return void 0===e&&(e=!0),t=Bh.trimRight(t),t=e?t+"\n":t},Bh.getFromCache=function(t,e,r,i){var n,o=r[t];return void 0===o&&(n=t.length*e,o=i.measureText(t).width+n,r[t]=o),o},Bh.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},Bh.collapseNewlines=function(t){return"normal"===t},Bh.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var r=t[e];if(!Bh.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},Bh.isNewline=function(t){return"string"==typeof t&&0<=Bh._newlines.indexOf(t.charCodeAt(0))},Bh.isBreakingSpace=function(t){return"string"==typeof t&&0<=Bh._breakingSpaces.indexOf(t.charCodeAt(0))},Bh.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i];Bh.isBreakingSpace(n)||Bh.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},Bh.canBreakWords=function(t,e){return e},Bh.canBreakChars=function(t,e,r,i,n){return!0},Bh.wordWrapSplit=function(t){return t.split("")},Bh.measureFont=function(t){if(Bh._fonts[t])return Bh._fonts[t];var e={ascent:0,descent:0,fontSize:0},r=Bh._canvas,i=Bh._context;i.font=t;var n=Bh.METRICS_STRING+Bh.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width),s=2*(a=Math.ceil(i.measureText(Bh.BASELINE_SYMBOL).width)),a=a*Bh.BASELINE_MULTIPLIER|0;r.width=o,r.height=s,i.fillStyle="#f00",i.fillRect(0,0,o,s),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,a);for(var h=i.getImageData(0,0,o,s).data,u=h.length,l=4*o,c=0,d=0,p=!1,c=0;c<a;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=a-c,d=u-l,p=!1,c=s;a<c;--c){for(f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d-=l}return e.descent=c-a,e.fontSize=e.ascent+e.descent,Bh._fonts[t]=e},Bh.clearMetrics=function(t){void 0===t&&(t=""),t?delete Bh._fonts[t]:Bh._fonts={}},Bh);function Bh(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}var kh=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();kh.width=kh.height=10,Uh._canvas=kh,Uh._context=kh.getContext("2d"),Uh._fonts={},Uh.METRICS_STRING="|ÉqÅ",Uh.BASELINE_SYMBOL="M",Uh.BASELINE_MULTIPLIER=1.4,Uh._newlines=[10,13];var jh,Xh,Gh,Hh={texture:!0,children:!(Uh._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]),baseTexture:!0},zh=(Oh(Xh=Vh,Gh=jh=wh),Xh.prototype=null===Gh?Object.create(Gh):(Yh.prototype=Gh.prototype,new Yh),Vh.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=Uh.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var m,v,y=e.dropShadow&&0===f,g=y?2*a:0,_=g*this.resolution;y?(n.fillStyle="black",n.strokeStyle="black",v=Pt("number"==typeof(m=e.dropShadowColor)?m:St(m)),n.shadowColor="rgba("+255*v[0]+","+255*v[1]+","+255*v[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+_):(n.fillStyle=this._generateFillStyle(e,h,o),n.strokeStyle=e.stroke,n.shadowColor="0",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0);for(var b=0;b<h.length;b++)r=e.strokeThickness/2,i=e.strokeThickness/2+b*u+d.ascent,"right"===e.align?r+=c-l[b]:"center"===e.align&&(r+=(c-l[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[b],r+e.padding,i+e.padding-g,!0),e.fill&&this.drawLetterSpacing(h[b],r+e.padding,i+e.padding-g)}this.updateTexture()}},Vh.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o,s=e,a=Array.from?Array.from(t):t.split(""),h=this.context.measureText(t).width,u=0;u<a.length;++u){var l=a[u];i?this.context.strokeText(l,s,r):this.context.fillText(l,s,r),s+=h-(o=this.context.measureText(t.substring(u+1)).width)+n,h=o}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},Vh.prototype.updateTexture=function(){var t,e=this.canvas;!this._style.trim||(t=te(e)).data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0));var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(e.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(e.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},Vh.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),jh.prototype._render.call(this,t)},Vh.prototype.getLocalBounds=function(t){return this.updateText(!0),jh.prototype.getLocalBounds.call(this,t)},Vh.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},Vh.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,h=Math.ceil(this.canvas.height/this._resolution)-o-2*s,u=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,d=1;d<c;++d)l.push(d/c);if(u.unshift(n[0]),l.unshift(0),u.push(n[n.length-1]),l.push(1),t.fillGradientType===Sh.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,h+s);for(var p=0,f=(r.fontProperties.fontSize+t.strokeThickness)/h,d=0;d<e.length;d++)for(var m=r.lineHeight*d,v=0;v<u.length;v++){var y=m/h+("number"==typeof l[v]?l[v]:v/u.length)*f,g=Math.max(p,y),g=Math.min(g,1);i.addColorStop(g,u[v]),p=g}}else{i=this.context.createLinearGradient(s,h/2,a+s,h/2);for(var _=u.length+1,b=1,d=0;d<u.length;d++){var x=void 0,x="number"==typeof l[d]?l[d]:b/_;i.addColorStop(x,u[d]),b++}}return i},Vh.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},Hh,t),jh.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(Vh.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Gt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Vh.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Gt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(Vh.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Rh?t:new Rh(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(Vh.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Vh.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Vh);function Yh(){this.constructor=Xh}function Vh(t,e,r){var i=this,n=!1;r||(r=document.createElement("canvas"),n=!0),r.width=3,r.height=3;var o=Ai.from(r);return o.orig=new ce,o.trim=new ce,(i=jh.call(this,o)||this)._ownCanvas=n,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=dt.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=e,i.localStyleID=-1,i}
/*!
 * @pixi/prepare - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
dt.UPLOADS_PER_FRAME=4;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Wh=function(t,e){return(Wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var qh=(Zh.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},Zh.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},Zh);function Zh(t){this.maxItemsPerFrame=t,this.itemsLeft=0}function Kh(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i,n=0;n<t._textures.length;n++){t._textures[n]instanceof Ai&&(i=t._textures[n].baseTexture,-1===e.indexOf(i)&&(e.push(i),r=!0))}return r}function Jh(t,e){if(t.baseTexture instanceof Br){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Qh(t,e){if(t._texture&&t._texture instanceof Ai){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function $h(t,e){return e instanceof zh&&(e.updateText(!0),!0)}function tu(t,e){if(e instanceof Rh){var r=e.toFontString();return Uh.measureFont(r),!0}return!1}function eu(t,e){if(t instanceof zh){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function ru(t,e){return t instanceof Rh&&(-1===e.indexOf(t)&&e.push(t),!0)}var iu=(nu.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,nr.system.addOnce(this.tick,this,Qe.UTILITY))):e&&e()},nu.prototype.tick=function(){setTimeout(this.delayedTick,0)},nu.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)nr.system.addOnce(this.tick,this,Qe.UTILITY);else{this.ticking=!1;for(var n=this.completes.slice(0),r=this.completes.length=0,i=n.length;r<i;r++)n[r]()}},nu.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},nu.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},nu.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ze)for(e=t.children.length-1;0<=e;e--)this.add(t.children[e]);return this},nu.prototype.destroy=function(){this.ticking&&nr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},nu);function nu(t){var e=this;this.limiter=new qh(dt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(eu),this.registerFindHook(ru),this.registerFindHook(Kh),this.registerFindHook(Jh),this.registerFindHook(Qh),this.registerUploadHook($h),this.registerUploadHook(tu)}function ou(t,e){return e instanceof Br&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function su(t,e){if(!(e instanceof vh))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&ou(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function au(t,e){return t instanceof vh&&(e.push(t),!0)}var hu,uu,lu,cu=(Wh(uu=pu,lu=hu=iu),uu.prototype=null===lu?Object.create(lu):(du.prototype=lu.prototype,new du),pu);function du(){this.constructor=uu}function pu(t){var e=hu.call(this,t)||this;return e.uploadHookHelper=e.renderer,e.registerFindHook(au),e.registerUploadHook(ou),e.registerUploadHook(su),e}var fu=(mu.prototype.beginFrame=function(){this.frameStart=Date.now()},mu.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},mu);
/*!
 * @pixi/spritesheet - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function mu(t){this.maxMilliseconds=t,this.frameStart=0}var vu=(yu.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=oe(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},yu.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=yu.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},yu.prototype._processFrames=function(t){for(var e=t,r=yu.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i,n,o,s,a=this._frameKeys[e],h=this._frames[a],u=h.frame;u&&(i=s=null,n=!1!==h.trimmed&&h.sourceSize?h.sourceSize:h.frame,o=new ce(0,0,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),s=h.rotated?new ce(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):new ce(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),!1!==h.trimmed&&h.spriteSourceSize&&(i=new ce(Math.floor(h.spriteSourceSize.x)/this.resolution,Math.floor(h.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[a]=new Ai(this.baseTexture,s,o,i,h.rotated?2:0,h.anchor),Ai.addToCache(this.textures[a],a)),e++}},yu.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},yu.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},yu.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*yu.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*yu.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},yu.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null!==(e=this._texture)&&void 0!==e&&e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},yu.BATCH_SIZE=1e3,yu);function yu(t,e,r){void 0===r&&(r=null),this._texture=t instanceof Ai?t:null,this.baseTexture=t instanceof Br?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}var gu=(_u.use=function(r,i){var t,e,n=r.name+"_image";r.data&&r.type===ea.TYPE.JSON&&r.data.frames&&!this.resources[n]?(t={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},e=_u.getResourcePath(r,this.baseUrl),this.add(n,e,t,function(t){var e;t.error?i(t.error):(e=new vu(t.texture,r.data,r.url)).parse(function(){r.spritesheet=e,r.textures=e.textures,i()})})):i()},_u.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:gt.a.resolve(t.url.replace(e,""),t.data.meta.image)},_u);
/*!
 * @pixi/sprite-tiling - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function _u(){}var bu=function(t,e){return(bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function xu(t,e){function r(){this.constructor=t}bu(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Tu,Eu=new xe,wu=(xu(Pu,Tu=wh),Object.defineProperty(Pu.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Pu.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(Pu.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Pu.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},Pu.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},Pu.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},Pu.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new ce),t=this._localBoundsRect),this._bounds.getRectangle(t)):Tu.prototype.getLocalBounds.call(this,t)},Pu.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Eu);var e=this._width,r=this._height,i=-e*this.anchor._x;if(Eu.x>=i&&Eu.x<i+e){var n=-r*this.anchor._y;if(Eu.y>=n&&Eu.y<n+r)return!0}return!1},Pu.prototype.destroy=function(t){Tu.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},Pu.from=function(t,e){return"number"==typeof e&&(Vt("5.3.0","TilingSprite.from use options instead of width and height args"),e={width:e,height:arguments[2]}),new Pu(Ai.from(t,e),e.width,e.height)},Object.defineProperty(Pu.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(Pu.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),Pu);function Pu(t,e,r){void 0===e&&(e=100),void 0===r&&(r=100);var i=Tu.call(this,t)||this;return i.tileTransform=new Ne,i._width=e,i._height=r,i.uvMatrix=t.uvMatrix||new ao(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}var Iu,Su="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Au=new Pe,Ou=(xu(Cu,Iu=un),Cu.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==K.CLAMP:o.wrapMode===K.CLAMP&&(o.wrapMode=K.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;Au.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),Au.invert(),h?Au.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=Au.toArray(!0),u.uniforms.uColor=Dt(t.tint,t.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(r),this.state.blendMode=Ct(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},Cu);function Cu(t){var e=Iu.call(this,t)||this,r={globals:e.renderer.globalUniforms};return e.shader=$n.from(Su,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),e.simpleShader=$n.from(Su,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",r),e.quad=new Qi,e.state=eo.for2d(),e}
/*!
 * @pixi/mesh - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Mu=function(t,e){return(Mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Ru(t,e){function r(){this.constructor=t}Mu(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Du=(Lu.prototype.update=function(t){var e;!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,e=this.uvBuffer.data,this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++)},Lu);function Lu(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}var Nu,Fu=new xe,Uu=new ye,Bu=(Ru(ku,Nu=Ze),Object.defineProperty(ku.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(ku.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(ku.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(ku.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(ku.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(ku.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(ku.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),ku.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===j.TRIANGLES&&e.length<2*ku.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},ku.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},ku.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},ku.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels)for(var p=dt.RESOLUTION,l=0;l<u.length;++l)u[l]=Math.round((u[l]*p|0)/p);this.vertexDirty=t.vertexDirtyId}},ku.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Du(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},ku.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},ku.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Fu);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=Uu.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[1+a],r[2]=e[h],r[3]=e[1+h],r[4]=e[u],r[5]=e[1+u],Uu.contains(Fu.x,Fu.y))return!0}return!1},ku.prototype.destroy=function(t){Nu.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},ku.BATCHABLE_SIZE=100,ku);function ku(t,e,r,i){void 0===i&&(i=j.TRIANGLES);var n=Nu.call(this)||this;return(n.geometry=t).refCount++,n.shader=e,n.state=r||eo.for2d(),n.drawMode=i,n.start=0,n.size=0,n.uvs=null,n.indices=null,n.vertexData=new Float32Array(1),n.vertexDirty=0,n._transformID=-1,n.tint=16777215,n.blendMode=B.NORMAL,n._roundPixels=dt.ROUND_PIXELS,n.batchUvs=null,n}var ju,Xu=(Ru(Gu,ju=$n),Object.defineProperty(Gu.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(Gu.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Gu.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),Gu.prototype.update=function(){var t;this._colorDirty&&(this._colorDirty=!1,t=this.texture.baseTexture,Dt(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Gu);function Gu(t,e){var r=this,i={uSampler:t,alpha:1,uTextureMatrix:Pe.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(i,e.uniforms),(r=ju.call(this,e.program||Jn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new ao(t),r.batchable=void 0===e.program,r.pluginName=e.pluginName,r.tint=e.tint,r.alpha=e.alpha,r}var Hu,zu=(Ru(Yu,Hu=Vi),Object.defineProperty(Yu.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),Yu);
/*!
 * @pixi/text-bitmap - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Yu(t,e,r){var i=Hu.call(this)||this,n=new ki(t),o=new ki(e,!0),s=new ki(r,!0,!0);return i.addAttribute("aVertexPosition",n,2,!1,V.FLOAT).addAttribute("aTextureCoord",o,2,!1,V.FLOAT).addIndex(s),i._updateId=-1,i}var Vu=function(t,e){return(Vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var Wu=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]};function qu(){}function Zu(){}var Ku=[(qu.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},qu.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[]};for(var i in e){var n=e[i].match(/^[a-z]+/gm)[0],o=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),u=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;s[u]=d}r[n].push(s)}var p=new Wu;return r.info.forEach(function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})}),r.common.forEach(function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})}),r.page.forEach(function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})}),r.char.forEach(function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),r.kerning.forEach(function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),p},qu),(Zu.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},Zu.parse=function(t){for(var e=new Wu,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var h=o[a];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},Zu)];function Ju(t){for(var e=0;e<Ku.length;e++)if(Ku[e].test(t))return Ku[e];return null}function Qu(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,l=Math.ceil(t.width/i)-h-2*u,c=Math.ceil(t.height/i)-h-2*u,d=a.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,m=1;m<f;++m)p.push(m/f);if(d.unshift(a[0]),p.unshift(0),d.push(a[a.length-1]),p.push(1),r.fillGradientType===Sh.LINEAR_VERTICAL){s=e.createLinearGradient(l/2,u,l/2,c+u);for(var v=0,y=(o.fontProperties.fontSize+r.strokeThickness)/c,m=0;m<n.length;m++)for(var g=o.lineHeight*m,_=0;_<d.length;_++){var b=g/c+("number"==typeof p[_]?p[_]:_/d.length)*y,x=Math.max(v,b),x=Math.min(x,1);s.addColorStop(x,d[_]),v=x}}else{s=e.createLinearGradient(u,c/2,l+u,c/2);for(var T=d.length+1,E=1,m=0;m<d.length;m++){var w=void 0,w="number"==typeof p[m]?p[m]:E/T;s.addColorStop(w,d[m]),E++}}return s}var $u=(tl.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},tl.install=function(t,e){var r;if(t instanceof Wu)r=t;else{var i=Ju(t);if(!i)throw new Error("Unrecognized data format for font.");r=i.parse(t)}e instanceof Ai&&(e=[e]);var n=new tl(r,e);return tl.available[n.font]=n},tl.uninstall=function(t){var e=tl.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete tl.available[t]},tl.from=function(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},tl.defaultOptions,r),n=i.chars,o=i.padding,s=i.resolution,a=i.textureWidth,h=i.textureHeight,u=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(n),l=e instanceof Rh?e:new Rh(e),c=a,d=new Wu;d.info[0]={face:l.fontFamily,size:l.fontSize},d.common[0]={lineHeight:l.fontSize};for(var p,f,m,v=0,y=0,g=0,_=[],b=0;b<u.length;b++){p||((p=document.createElement("canvas")).width=a,p.height=h,f=p.getContext("2d"),m=new Br(p,{resolution:s}),_.push(new Ai(m)),d.page.push({id:_.length-1,file:""}));var x=Uh.measureText(u[b],l,!1,p),T=x.width,E=Math.ceil(x.height),w=Math.ceil(("italic"===l.fontStyle?2:1)*T);if(h-E*s<=y){if(0===y)throw new Error("[BitmapFont] textureHeight "+h+"px is too small for "+l.fontSize+"px fonts");--b,m=f=p=null,g=v=y=0}else{var P,g=Math.max(E+x.fontProperties.descent,g);c<=w*s+v?(--b,y+=g*s,y=Math.ceil(y),g=v=0):(function(t,e,r,i,n,o,s){var a=r.text,h=r.fontProperties;e.translate(i,n),e.scale(o,o);var u=s.strokeThickness/2,l=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=Qu(t,e,s,o,[a],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=Qu(t,e,s,o,[a],r),e.strokeStyle=s.stroke;var c=s.dropShadowColor,d=Pt("number"==typeof c?c:St(c));s.dropShadow?(e.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="0",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(a,u,l+r.lineHeight-h.descent),s.fill&&e.fillText(a,u,l+r.lineHeight-h.descent),e.setTransform(),e.fillStyle="rgba(0, 0, 0, 0)"}(p,f,x,v,y,s,l),P=x.text.charCodeAt(0),d.char.push({id:P,page:_.length-1,x:v/s,y:y/s,width:w,height:E,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(l.dropShadow?l.dropShadowDistance:0)-(l.stroke?l.strokeThickness:0))}),v+=(w+2*o)*s,v=Math.ceil(v))}}var I=new tl(d,_);return void 0!==tl.available[t]&&tl.uninstall(t),tl.available[t]=I},tl.ALPHA=[["a","z"],["A","Z"]," "],tl.NUMERIC=[["0","9"]],tl.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],tl.ASCII=[[" ","~"]],tl.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:tl.ALPHANUMERIC},tl.available={},tl);function tl(t,e){var r=t.info[0],i=t.common[0],n=oe(t.page[0].file),o={};this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/n,this.chars={},this.pageTextures=o;for(var s=0;s<t.page.length;s++){var a=t.page[s],h=a.id,u=a.file;o[h]=e instanceof Array?e[s]:e[u]}for(s=0;s<t.char.length;s++){var l=t.char[s],h=l.id,c=l.page,d=t.char[s],p=d.x,f=d.y,m=d.width,v=d.height,y=d.xoffset,g=d.yoffset,_=d.xadvance;f/=n,m/=n,v/=n,y/=n,g/=n,_/=n;var b=new ce((p/=n)+o[c].frame.x/n,f+o[c].frame.y/n,m,v);this.chars[h]={xOffset:y,yOffset:g,xAdvance:_,kerning:{},texture:new Ai(o[c].baseTexture,b),page:c}}for(s=0;s<t.kerning.length;s++){var x=t.kerning[s],T=x.first,E=x.second,w=x.amount;T/=n,E/=n,w/=n,this.chars[E]&&(this.chars[E].kerning[T]=w)}}var el,rl,il,nl=[],ol=[],sl=(Vu(rl=hl,il=el=Ze),rl.prototype=null===il?Object.create(il):(al.prototype=il.prototype,new al),hl.prototype.updateText=function(){for(var t,e=$u.available[this._fontName],r=this._fontSize/e.size,i=new xe,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*e.size/this._fontSize,u=null,l=0,c=0,d=0,p=-1,f=0,m=0,v=0,y=0;y<a;y++){var g,_,b=s.charCodeAt(y),x=s.charAt(y);/(?:\s)/.test(x)&&(p=y,f=l),"\r"!==x&&"\n"!==x?(g=e.chars[b])&&(u&&g.kerning[u]&&(i.x+=g.kerning[u]),(_=ol.pop()||{texture:Ai.EMPTY,line:0,charCode:0,position:new xe}).texture=g.texture,_.line=d,_.charCode=b,_.position.x=i.x+g.xOffset+this._letterSpacing/2,_.position.y=i.y+g.yOffset,n.push(_),i.x+=g.xAdvance+this._letterSpacing,l=i.x,v=Math.max(v,g.yOffset+g.texture.height),u=b,-1!==p&&0<h&&i.x>h&&(Xt(n,1+p-++m,1+y-p),y=p,p=-1,o.push(f),c=Math.max(c,f),d++,i.x=0,i.y+=e.lineHeight,u=null)):(o.push(l),c=Math.max(c,l),++d,++m,i.x=0,i.y+=e.lineHeight,u=null)}var T=s.charAt(s.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(l=f),o.push(l),c=Math.max(c,l));for(var E=[],y=0;y<=d;y++){var w=0;"right"===this._align?w=c-o[y]:"center"===this._align&&(w=(c-o[y])/2),E.push(w)}for(var P=n.length,I={},S=[],A=this._activePagesMeshData,y=0;y<A.length;y++)nl.push(A[y]);for(y=0;y<P;y++){var O,C,M=(D=n[y].texture).baseTexture.uid;I[M]||((j=nl.pop())||(O=new zu,C=new Xu(Ai.EMPTY),j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Bu(O,C),vertices:null,uvs:null,indices:null}),j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0,j.mesh.texture=new Ai(D.baseTexture),j.mesh.tint=this._tint,S.push(j),I[M]=j),I[M].total++}for(y=0;y<A.length;y++)-1===S.indexOf(A[y])&&this.removeChild(A[y].mesh);for(y=0;y<S.length;y++)S[y].mesh.parent!==this&&this.addChild(S[y].mesh);for(var y in this._activePagesMeshData=S,I){var R=(j=I[y]).total;(null===(t=j.indices)||void 0===t?void 0:t.length)>6*R&&!(j.vertices.length<2*Bu.BATCHABLE_SIZE)||(j.vertices=new Float32Array(8*R),j.uvs=new Float32Array(8*R),j.indices=new Uint16Array(6*R)),j.mesh.size=6*R}for(y=0;y<P;y++){var D,L=((x=n[y]).position.x+E[x.line])*r,N=x.position.y*r,F=I[(D=x.texture).baseTexture.uid],U=D.frame,B=D._uvs,k=F.index++;F.indices[6*k+0]=0+4*k,F.indices[6*k+1]=1+4*k,F.indices[6*k+2]=2+4*k,F.indices[6*k+3]=0+4*k,F.indices[6*k+4]=2+4*k,F.indices[6*k+5]=3+4*k,F.vertices[8*k+0]=L,F.vertices[8*k+1]=N,F.vertices[8*k+2]=L+U.width*r,F.vertices[8*k+3]=N,F.vertices[8*k+4]=L+U.width*r,F.vertices[8*k+5]=N+U.height*r,F.vertices[8*k+6]=L,F.vertices[8*k+7]=N+U.height*r,F.uvs[8*k+0]=B.x0,F.uvs[8*k+1]=B.y0,F.uvs[8*k+2]=B.x1,F.uvs[8*k+3]=B.y1,F.uvs[8*k+4]=B.x2,F.uvs[8*k+5]=B.y2,F.uvs[8*k+6]=B.x3,F.uvs[8*k+7]=B.y3}for(var y in this._textWidth=c*r,this._textHeight=(i.y+e.lineHeight)*r,I){var j=I[y];if(0!==this.anchor.x||0!==this.anchor.y)for(var X=0,G=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y,z=0;z<j.total;z++)j.vertices[X++]-=G,j.vertices[X++]-=H,j.vertices[X++]-=G,j.vertices[X++]-=H,j.vertices[X++]-=G,j.vertices[X++]-=H,j.vertices[X++]-=G,j.vertices[X++]-=H;this._maxLineHeight=v*r;var Y=j.mesh.geometry.getBuffer("aVertexPosition"),V=j.mesh.geometry.getBuffer("aTextureCoord"),W=j.mesh.geometry.getIndex();Y.data=j.vertices,V.data=j.uvs,W.data=j.indices,Y.update(),V.update(),W.update()}for(y=0;y<n.length;y++)ol.push(n[y])},hl.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},hl.prototype.getLocalBounds=function(){return this.validate(),el.prototype.getLocalBounds.call(this)},hl.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(hl.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!$u.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(hl.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),hl.prototype._upgradeStyle=function(t){var e;"string"==typeof t.font?(e=t.font.split(" "),t.fontName=1===e.length?e[0]:e.slice(1).join(" "),2<=e.length&&(t.fontSize=parseInt(e[0],10))):(t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10))},hl.registerFont=function(t,e){return Vt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),$u.install(t,e)},Object.defineProperty(hl,"fonts",{get:function(){return Vt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),$u.available},enumerable:!1,configurable:!0}),hl.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},hl);function al(){this.constructor=rl}function hl(t,e){void 0===e&&(e={});var r=el.call(this)||this;r._tint=16777215,e.font&&(Vt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),r._upgradeStyle(e));var i=Object.assign({},hl.styleDefaults,e),n=i.align,o=i.tint,s=i.maxWidth,a=i.letterSpacing,h=i.fontName,u=i.fontSize;if(!$u.available[h])throw new Error('Missing BitmapFont "'+h+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=n,r._tint=o,r._fontName=h,r._fontSize=u||$u.available[h].size,r._text=t,r._maxWidth=s,r._maxLineHeight=0,r._letterSpacing=a,r._anchor=new Ee(function(){r.dirty=!0},r,0,0),r.roundPixels=dt.ROUND_PIXELS,r.dirty=!0,r}var ul=(ll.add=function(){ea.setExtensionXhrType("fnt",ea.XHR_RESPONSE_TYPE.DOCUMENT)},ll.use=function(e,r){var t=Ju(e.data);if(t)for(var i=ll.getBaseUrl(this,e),n=t.parse(e.data),o={},s=function(t){o[t.metadata.pageFile]=t.texture,Object.keys(o).length===n.page.length&&(e.bitmapFont=$u.install(n,o),r())},a=0;a<n.page.length;++a){var h,u=n.page[a].file,l=i+u,c=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===l){p.metadata.pageFile=u,p.texture?s(p):p.onAfterMiddleware.add(s),c=!0;break}}c||(h={crossOrigin:e.crossOrigin,loadType:ea.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e},this.add(l,h,s))}else r()},ll.getBaseUrl=function(t,e){var r=e.isDataUrl?"":ll.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},ll.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},ll);
/*!
 * @pixi/filter-alpha - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ll(){}var cl=function(t,e){return(cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var dl,pl,fl,ml=(cl(pl=yl,fl=dl=no),pl.prototype=null===fl?Object.create(fl):(vl.prototype=fl.prototype,new vl),Object.defineProperty(yl.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),yl);function vl(){this.constructor=pl}function yl(t){void 0===t&&(t=1);var e=dl.call(this,as,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return e.alpha=t,e}
/*!
 * @pixi/filter-blur - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var gl=function(t,e){return(gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function _l(t,e){function r(){this.constructor=t}gl(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var bl="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var xl,Tl,El,wl,Pl,Il,Sl,Al,Ol,Cl,Ml,Rl,Dl,Ll,Nl,Fl,Ul,Bl,kl={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},jl=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");(xl={})[xl.WEBGL_LEGACY=0]="WEBGL_LEGACY",xl[xl.WEBGL=1]="WEBGL",xl[xl.WEBGL2=2]="WEBGL2",(Tl={})[Tl.UNKNOWN=0]="UNKNOWN",Tl[Tl.WEBGL=1]="WEBGL",Tl[Tl.CANVAS=2]="CANVAS",(El={})[El.COLOR=16384]="COLOR",El[El.DEPTH=256]="DEPTH",El[El.STENCIL=1024]="STENCIL",(wl={})[wl.NORMAL=0]="NORMAL",wl[wl.ADD=1]="ADD",wl[wl.MULTIPLY=2]="MULTIPLY",wl[wl.SCREEN=3]="SCREEN",wl[wl.OVERLAY=4]="OVERLAY",wl[wl.DARKEN=5]="DARKEN",wl[wl.LIGHTEN=6]="LIGHTEN",wl[wl.COLOR_DODGE=7]="COLOR_DODGE",wl[wl.COLOR_BURN=8]="COLOR_BURN",wl[wl.HARD_LIGHT=9]="HARD_LIGHT",wl[wl.SOFT_LIGHT=10]="SOFT_LIGHT",wl[wl.DIFFERENCE=11]="DIFFERENCE",wl[wl.EXCLUSION=12]="EXCLUSION",wl[wl.HUE=13]="HUE",wl[wl.SATURATION=14]="SATURATION",wl[wl.COLOR=15]="COLOR",wl[wl.LUMINOSITY=16]="LUMINOSITY",wl[wl.NORMAL_NPM=17]="NORMAL_NPM",wl[wl.ADD_NPM=18]="ADD_NPM",wl[wl.SCREEN_NPM=19]="SCREEN_NPM",wl[wl.NONE=20]="NONE",wl[wl.SRC_OVER=0]="SRC_OVER",wl[wl.SRC_IN=21]="SRC_IN",wl[wl.SRC_OUT=22]="SRC_OUT",wl[wl.SRC_ATOP=23]="SRC_ATOP",wl[wl.DST_OVER=24]="DST_OVER",wl[wl.DST_IN=25]="DST_IN",wl[wl.DST_OUT=26]="DST_OUT",wl[wl.DST_ATOP=27]="DST_ATOP",wl[wl.ERASE=26]="ERASE",wl[wl.SUBTRACT=28]="SUBTRACT",wl[wl.XOR=29]="XOR",(Pl={})[Pl.POINTS=0]="POINTS",Pl[Pl.LINES=1]="LINES",Pl[Pl.LINE_LOOP=2]="LINE_LOOP",Pl[Pl.LINE_STRIP=3]="LINE_STRIP",Pl[Pl.TRIANGLES=4]="TRIANGLES",Pl[Pl.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",Pl[Pl.TRIANGLE_FAN=6]="TRIANGLE_FAN",(Il={})[Il.RGBA=6408]="RGBA",Il[Il.RGB=6407]="RGB",Il[Il.ALPHA=6406]="ALPHA",Il[Il.LUMINANCE=6409]="LUMINANCE",Il[Il.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Il[Il.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Il[Il.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(Sl={})[Sl.TEXTURE_2D=3553]="TEXTURE_2D",Sl[Sl.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Sl[Sl.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",Sl[Sl.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Sl[Sl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Sl[Sl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Sl[Sl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Sl[Sl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Sl[Sl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(Al={})[Al.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Al[Al.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Al[Al.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Al[Al.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Al[Al.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Al[Al.FLOAT=5126]="FLOAT",Al[Al.HALF_FLOAT=36193]="HALF_FLOAT",(Ol={})[Ol.NEAREST=0]="NEAREST",Ol[Ol.LINEAR=1]="LINEAR",(Cl={})[Cl.CLAMP=33071]="CLAMP",Cl[Cl.REPEAT=10497]="REPEAT",Cl[Cl.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(Ml={})[Ml.OFF=0]="OFF",Ml[Ml.POW2=1]="POW2",Ml[Ml.ON=2]="ON",(Rl={})[Rl.NPM=0]="NPM",Rl[Rl.UNPACK=1]="UNPACK",Rl[Rl.PMA=2]="PMA",Rl[Rl.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",Rl[Rl.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",Rl[Rl.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(Ll=Dl=Dl||{})[Ll.NO=0]="NO",Ll[Ll.YES=1]="YES",Ll[Ll.AUTO=2]="AUTO",Ll[Ll.BLEND=0]="BLEND",Ll[Ll.CLEAR=1]="CLEAR",Ll[Ll.BLIT=2]="BLIT",(Nl={})[Nl.AUTO=0]="AUTO",Nl[Nl.MANUAL=1]="MANUAL",(Fl={}).LOW="lowp",Fl.MEDIUM="mediump",Fl.HIGH="highp",(Ul={})[Ul.NONE=0]="NONE",Ul[Ul.SCISSOR=1]="SCISSOR",Ul[Ul.STENCIL=2]="STENCIL",Ul[Ul.SPRITE=3]="SPRITE",(Bl={})[Bl.NONE=0]="NONE",Bl[Bl.LOW=2]="LOW",Bl[Bl.MEDIUM=4]="MEDIUM",Bl[Bl.HIGH=8]="HIGH";var Xl,Gl=(_l(Hl,Xl=no),Hl.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,Dl.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(s,Dl.BLIT);var u=this.uniforms.uSampler=a,a=s,s=u;o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(Hl.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(Hl.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),Hl);function Hl(t,e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=dt.RESOLUTION),void 0===n&&(n=5);var o=this,s=function(t,e){for(var r=Math.ceil(t/2),i=bl,n="",o=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);",s=0;s<t;s++){n+=o.replace("%index%",s.toString()).replace("%sampleIndex%",s-(r-1)+".0"),n+="\n"}return i=(i=i.replace("%blur%",n)).replace("%size%",t.toString())}(n,t),a=function(t){for(var e=kl[t],r=e.length,i=jl,n="",o=0;o<t;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString()),a=r<=o?t-o-1:o;n+=s=s.replace("%value%",e[a].toString()),n+="\n"}return i=(i=i.replace("%blur%",n)).replace("%size%",t.toString())}(n);return(o=Xl.call(this,s,a)||this).horizontal=t,o.resolution=i,o._quality=0,o.quality=r,o.blur=e,o}var zl,Yl=(_l(Vl,zl=no),Vl.prototype.apply=function(t,e,r,i){var n,o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);o&&s?(n=t.getFilterTexture(),this.blurXFilter.apply(t,e,n,Dl.CLEAR),this.blurYFilter.apply(t,n,r,i),t.returnFilterTexture(n)):s?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},Vl.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(Vl.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Vl.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(Vl.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Vl.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(Vl.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Vl.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),Vl);
/*!
 * @pixi/filter-color-matrix - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Vl(t,e,r,i){void 0===t&&(t=8),void 0===e&&(e=4),void 0===r&&(r=dt.RESOLUTION),void 0===i&&(i=5);var n=zl.call(this)||this;return n.blurXFilter=new Gl(!0,t,e,r,i),n.blurYFilter=new Gl(!1,t,e,r,i),n.resolution=r,n.quality=e,n.blur=t,n.repeatEdgePixels=!1,n}var Wl=function(t,e){return(Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ql,Zl,Kl,Jl=(Wl(Zl=$l,Kl=ql=no),Zl.prototype=null===Kl?Object.create(Kl):(Ql.prototype=Kl.prototype,new Ql),$l.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},$l.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},$l.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},$l.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},$l.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},$l.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},$l.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=(0,Math.sqrt)(1/3),o=[r+1/3*(1-r),1/3*(1-r)-n*i,1/3*(1-r)+n*i,0,0,1/3*(1-r)+n*i,r+1/3*(1-r),1/3*(1-r)-n*i,0,0,1/3*(1-r)-n*i,1/3*(1-r)+n*i,r+1/3*(1-r),0,0,0,0,0,1,0];this._loadMatrix(o,e)},$l.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},$l.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},$l.prototype.desaturate=function(){this.saturate(-1)},$l.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},$l.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},$l.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},$l.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},$l.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},$l.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},$l.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},$l.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},$l.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},$l.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},$l.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},$l.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},$l.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty($l.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty($l.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),$l);function Ql(){this.constructor=Zl}function $l(){var t=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=ql.call(this,hs,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e)||this).alpha=1,t}Jl.prototype.grayscale=Jl.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var tc=function(t,e){return(tc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var ec,rc,ic,nc=(tc(rc=sc,ic=ec=no),rc.prototype=null===ic?Object.create(ic):(oc.prototype=ic.prototype,new oc),sc.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(sc.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),sc);function oc(){this.constructor=rc}function sc(t,e){var r=this,i=new Pe;return t.renderable=!1,(r=ec.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,r.maskMatrix=i,null==e&&(e=20),r.scale=new xe(e,e),r}
/*!
 * @pixi/filter-fxaa - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var ac=function(t,e){return(ac=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var hc,uc,lc,cc=(ac(uc=pc,lc=hc=no),uc.prototype=null===lc?Object.create(lc):(dc.prototype=lc.prototype,new dc),pc);function dc(){this.constructor=uc}function pc(){return hc.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}
/*!
 * @pixi/filter-noise - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var fc=function(t,e){return(fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var mc,vc,yc,gc=(fc(vc=bc,yc=mc=no),vc.prototype=null===yc?Object.create(yc):(_c.prototype=yc.prototype,new _c),Object.defineProperty(bc.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(bc.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),bc);function _c(){this.constructor=vc}function bc(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random());var r=mc.call(this,hs,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=t,r.seed=e,r}
/*!
 * @pixi/mixin-cache-as-bitmap - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var xc=new Pe;Ge.prototype._cacheAsBitmap=!1,Ge.prototype._cacheData=null;var Tc=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Ge.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&((this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new Tc),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Ge.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Ge.prototype._initCachedDisplayObject=function(t){var e,r,i,n,o,s,a,h,u,l;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.batch.flush(),r=this.getLocalBounds(null,!0).clone(),this.filters&&(i=this.filters[0].padding,r.pad(i)),r.ceil(dt.RESOLUTION),n=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),s=t.projection.transform,a=Ri.create({width:r.width,height:r.height}),h="cacheAsBitmap_"+zt(),this._cacheData.textureCacheId=h,Br.addToCache(a.baseTexture,h),Ai.addToCache(a,h),u=this.transform.localTransform.copyTo(xc).invert().translate(-r.x,-r.y),this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!1),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(l=new wh(a)).transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(r.x/r.width),l.anchor.y=-(r.y/r.height),l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l))},Ge.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Ge.prototype._initCachedDisplayObjectCanvas=function(t){var e,r,i,n,o,s,a,h;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(null,!0),r=this.alpha,this.alpha=1,i=t.context,n=t._projTransform,e.ceil(dt.RESOLUTION),o=Ri.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+zt(),this._cacheData.textureCacheId=s,Br.addToCache(o.baseTexture,s),Ai.addToCache(o,s),a=xc,this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,a,!1),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(h=new wh(o)).transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(e.x/e.width),h.anchor.y=-(e.y/e.height),h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h))},Ge.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Ge.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Ge.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Br.removeFromCache(this._cacheData.textureCacheId),Ai.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Ge.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Ge.prototype.name=null,Ze.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++){if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}}return null},
/*!
 * @pixi/mixin-get-global-position - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Ge.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new xe),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh-extras - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Ec=function(t,e){return(Ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function wc(t,e){function r(){this.constructor=t}Ec(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Pc,Ic=(wc(Sc,Pc=zu),Sc.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}for(var c=n*o,h=0;h<c;h++){var d=h%n,p=h/n|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,v=(1+p)*this.segWidth+d,y=(1+p)*this.segWidth+d+1;i.push(f,m,v,m,y,v)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},Sc);function Sc(t,e,r,i){void 0===t&&(t=100),void 0===e&&(e=100),void 0===r&&(r=10),void 0===i&&(i=10);var n=Pc.call(this)||this;return n.segWidth=r,n.segHeight=i,n.width=t,n.height=e,n.build(),n}var Ac,Oc=(wc(Cc,Ac=zu),Object.defineProperty(Cc.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Cc.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],h=this._width*this.textureScale,u=t.length,l=0;l<u;l++){var c,d,p,f=4*l;0<this.textureScale?(c=a.x-t[l].x,d=a.y-t[l].y,p=Math.sqrt(c*c+d*d),a=t[l],s+=p/h):s=l/(u-1),n[f]=s,n[f+1]=0,n[f+2]=s,n[f+3]=1}for(var m=0,l=0;l<u-1;l++){f=2*l;o[m++]=f,o[m++]=f+1,o[m++]=f+2,o[m++]=f+2,o[m++]=f+1,o[m++]=f+3}r.update(),i.update(),this.updateVertices()}}},Cc.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],r=this.buffers[0].data,i=t.length,n=0;n<i;n++){var o,s=t[n],a=4*n,h=-((o=n<t.length-1?t[n+1]:s).x-e.x),u=o.y-e.y,l=Math.sqrt(u*u+h*h),c=0<this.textureScale?this.textureScale*this._width/2:this._width/2;u/=l,h/=l,u*=c,h*=c,r[a]=s.x+u,r[1+a]=s.y+h,r[2+a]=s.x-u,r[3+a]=s.y-h,e=s}this.buffers[0].update()}},Cc.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},Cc);function Cc(t,e,r){void 0===t&&(t=200),void 0===r&&(r=0);var i=Ac.call(this,new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1)))||this;return i.points=e,i._width=t,i.textureScale=r,i.build(),i}var Mc,Rc=(wc(Dc,Mc=Bu),Dc.prototype._render=function(t){var e=this.geometry;!this.autoUpdate&&e._width===this.shader.texture.height||(e._width=this.shader.texture.height,e.update()),Mc.prototype._render.call(this,t)},Dc);function Dc(t,e,r){void 0===r&&(r=0);var i=this,n=new Oc(t.height,e,r),o=new Xu(t);return 0<r&&(t.baseTexture.wrapMode=K.REPEAT),(i=Mc.call(this,n,o)||this).autoUpdate=!0,i}var Lc,Nc=(wc(Fc,Lc=Bu),Fc.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(Fc.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),Fc.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),Lc.prototype._render.call(this,t)},Fc);function Fc(t,e,r){var i=this,n=new Ic(t.width,t.height,e,r),o=new Xu(Ai.WHITE);return(i=Lc.call(this,n,o)||this).texture=t,i}var Uc,Bc=(wc(kc,Uc=Bu),Object.defineProperty(kc.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),kc.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),Uc.prototype._render.call(this,t)},kc);function kc(t,e,r,i,n){void 0===t&&(t=Ai.EMPTY);var o=this,s=new zu(e,r,i);s.getBuffer("aVertexPosition").static=!1;var a=new Xu(t);return(o=Uc.call(this,s,a,null,n)||this).autoUpdate=!0,o}var jc,Xc=(wc(Gc,jc=Nc),Gc.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(Gc.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),Gc.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},Gc.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},Gc.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(e,i)},Object.defineProperty(Gc.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(Gc.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Gc.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Gc);function Gc(t,e,r,i,n){void 0===e&&(e=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10);var o=jc.call(this,Ai.WHITE,4,4)||this;return o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=e,o._rightWidth=i,o._topHeight=r,o._bottomHeight=n,o.texture=t,o}
/*!
 * @pixi/sprite-animated - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Hc=function(t,e){return(Hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var zc,Yc,Vc,Wc=(Hc(Yc=Zc,Vc=zc=wh),Yc.prototype=null===Vc?Object.create(Vc):(qc.prototype=Vc.prototype,new qc),Zc.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},Zc.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(nr.shared.add(this.update,this,Qe.HIGH),this._isConnectedToTicker=!0))},Zc.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},Zc.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},Zc.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},Zc.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},Zc.prototype.destroy=function(t){this.stop(),zc.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},Zc.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(Ai.from(t[r]));return new Zc(e)},Zc.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(Ai.from(t[r]));return new Zc(e)},Object.defineProperty(Zc.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(Zc.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof Ai)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(Zc.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(Zc.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(Zc.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(nr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(nr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Zc);
/*!
 * pixi.js - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function qc(){this.constructor=Yc}function Zc(t,e){void 0===e&&(e=!0);var r=zc.call(this,t[0]instanceof Ai?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=e,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}var Kc=function(t,e){return(Kc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function Jc(t,e){function r(){this.constructor=t}Kc(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Qc="5.0.0";function $c(){var o=this;Object.defineProperties(o,{SVG_SIZE:{get:function(){return Vt(Qc,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),o.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return Vt(Qc,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),o.Transform}},TransformBase:{get:function(){return Vt(Qc,"PIXI.TransformBase class has been removed, use PIXI.Transform"),o.Transform}},TRANSFORM_MODE:{get:function(){return Vt(Qc,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return Vt(Qc,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),o.Renderer}},CanvasRenderTarget:{get:function(){return Vt(Qc,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),o.utils.CanvasRenderTarget}},loader:{get:function(){return Vt(Qc,"PIXI.loader instance has moved to PIXI.Loader.shared"),o.Loader.shared}},FilterManager:{get:function(){return Vt(Qc,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),o.systems.FilterSystem}},CanvasTinter:{get:function(){return Vt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),o.canvasUtils}},GroupD8:{get:function(){return Vt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),o.groupD8}}}),o.accessibility={},Object.defineProperties(o.accessibility,{AccessibilityManager:{get:function(){return Vt("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),o.AccessibilityManager}}}),o.interaction={},Object.defineProperties(o.interaction,{InteractionManager:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),o.InteractionManager}},InteractionData:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),o.InteractionData}},InteractionEvent:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),o.InteractionEvent}}}),o.prepare={},Object.defineProperties(o.prepare,{BasePrepare:{get:function(){return Vt("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),o.BasePrepare}},Prepare:{get:function(){return Vt("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),o.Prepare}},CanvasPrepare:{get:function(){return Vt("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),o.CanvasPrepare}}}),o.extract={},Object.defineProperties(o.extract,{Extract:{get:function(){return Vt("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),o.Extract}},CanvasExtract:{get:function(){return Vt("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),o.CanvasExtract}}}),o.extras={},Object.defineProperties(o.extras,{TilingSprite:{get:function(){return Vt(Qc,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),o.TilingSprite}},TilingSpriteRenderer:{get:function(){return Vt(Qc,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),o.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return Vt(Qc,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),o.AnimatedSprite}},BitmapText:{get:function(){return Vt(Qc,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),o.BitmapText}}}),o.TilingSprite.fromFrame=function(t,e,r){return Vt("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),o.TilingSprite.from(t,{width:e,height:r})},o.TilingSprite.fromImage=function(t,e,r,i,n){return void 0===i&&(i={}),Vt("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:n,resourceOptions:{crossorigin:arguments[3]}}),i.width=e,i.height=r,o.TilingSprite.from(t,i)},Object.defineProperties(o.utils,{getSvgSize:{get:function(){return Vt(Qc,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),o.resources.SVGResource.getSize}}}),o.mesh={},Object.defineProperties(o.mesh,{Mesh:{get:function(){return Vt(Qc,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),o.SimpleMesh}},NineSlicePlane:{get:function(){return Vt(Qc,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),o.NineSlicePlane}},Plane:{get:function(){return Vt(Qc,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),o.SimplePlane}},Rope:{get:function(){return Vt(Qc,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),o.SimpleRope}},RawMesh:{get:function(){return Vt(Qc,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),o.Mesh}},CanvasMeshRenderer:{get:function(){return Vt(Qc,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),o.CanvasMeshRenderer}},MeshRenderer:{get:function(){return Vt(Qc,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),o.MeshRenderer}}}),o.particles={},Object.defineProperties(o.particles,{ParticleContainer:{get:function(){return Vt(Qc,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),o.ParticleContainer}},ParticleRenderer:{get:function(){return Vt(Qc,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),o.ParticleRenderer}}}),o.ticker={},Object.defineProperties(o.ticker,{Ticker:{get:function(){return Vt(Qc,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),o.Ticker}},shared:{get:function(){return Vt(Qc,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),o.Ticker.shared}}}),o.loaders={},Object.defineProperties(o.loaders,{Loader:{get:function(){return Vt(Qc,"PIXI.loaders.Loader class has moved to PIXI.Loader"),o.Loader}},Resource:{get:function(){return Vt(Qc,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),o.LoaderResource}},bitmapFontParser:{get:function(){return Vt(Qc,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),o.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){Vt(Qc,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return Vt(Qc,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),o.SpritesheetLoader.use}},getResourcePath:{get:function(){return Vt(Qc,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),o.SpritesheetLoader.getResourcePath}}}),o.Loader.addPixiMiddleware=function(t){return Vt(Qc,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),o.loaders.Loader.registerPlugin({use:t()})};function r(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)}Object.assign(o.Loader.prototype,{on:function(t){var e=r(t);Vt(Qc,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+e+".add")},once:function(t){var e=r(t);Vt(Qc,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+e+".once")},off:function(t){var e=r(t);Vt(Qc,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+e+".detach")}}),Object.defineProperty(o.extract,"WebGLExtract",{get:function(){return Vt(Qc,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),o.Extract}}),Object.defineProperty(o.prepare,"WebGLPrepare",{get:function(){return Vt(Qc,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),o.Prepare}}),o.Container.prototype._renderWebGL=function(t){Vt(Qc,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},o.Container.prototype.renderWebGL=function(t){Vt(Qc,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},o.DisplayObject.prototype.renderWebGL=function(t){Vt(Qc,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},o.Container.prototype.renderAdvancedWebGL=function(t){Vt(Qc,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(o.settings,{TRANSFORM_MODE:{get:function(){return Vt(Qc,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){Vt(Qc,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var s=o.BaseTexture,t=!(s.prototype.loadSource=function(t){Vt(Qc,"PIXI.BaseTexture.loadSource method has been deprecated");var e=o.resources.autoDetectResource(t);e.internal=!0,this.setResource(e),this.update()});Object.defineProperties(s.prototype,{hasLoaded:{get:function(){return Vt(Qc,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return Vt(Qc,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){Vt(Qc,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return Vt(Qc,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){Vt(Qc,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return Vt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){Vt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return t||(Vt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),t=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),s.fromImage=function(t,e,r,i){Vt(Qc,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var n={scale:i,crossorigin:e};return s.from(t,{scaleMode:r,resourceOptions:n})},s.fromCanvas=function(t,e){return Vt(Qc,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),s.from(t,{scaleMode:e})},s.fromSVG=function(t,e,r,i){Vt(Qc,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var n={scale:i,crossorigin:e};return s.from(t,{scaleMode:r,resourceOptions:n})},Object.defineProperties(o.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return Vt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){Vt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),o.Point.prototype.copy=function(t){return Vt(Qc,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},o.ObservablePoint.prototype.copy=function(t){return Vt(Qc,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},o.Rectangle.prototype.copy=function(t){return Vt(Qc,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},o.Matrix.prototype.copy=function(t){return Vt(Qc,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},o.systems.StateSystem.prototype.setState=function(t){return Vt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(o.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return Vt(Qc,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){Vt(Qc,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){Vt(Qc,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){Vt(Qc,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,n=t.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width,s=i.height/r.height;return n.scale(o,s),n}}),Object.defineProperties(o.RenderTexture.prototype,{sourceFrame:{get:function(){return Vt(Qc,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return Vt(Qc,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var n,e=(Jc(i,n=o.filters.BlurFilterPass),i);function i(t,e,r,i){return Vt(Qc,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),n.call(this,!0,t,e,r,i)||this}var a,h=(Jc(u,a=o.filters.BlurFilterPass),u);function u(t,e,r,i){return Vt(Qc,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),a.call(this,!1,t,e,r,i)||this}Object.assign(o.filters,{BlurXFilter:e,BlurYFilter:h});var l=o.Sprite,c=o.Texture,d=o.Graphics;function p(t,e,r,i){return Vt(Qc,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),l.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function f(t,e,r,i){return Vt(Qc,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),c.from(e,{resourceOptions:{scale:i,crossorigin:r}})}d.prototype.generateCanvasTexture||(d.prototype.generateCanvasTexture=function(){Vt(Qc,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(d.prototype,"graphicsData",{get:function(){return Vt(Qc,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),l.fromImage=p.bind(null,"fromImage"),l.fromSVG=p.bind(null,"fromSVG"),l.fromCanvas=p.bind(null,"fromCanvas"),l.fromVideo=p.bind(null,"fromVideo"),l.fromFrame=p.bind(null,"fromFrame"),c.fromImage=f.bind(null,"fromImage"),c.fromSVG=f.bind(null,"fromSVG"),c.fromCanvas=f.bind(null,"fromCanvas"),c.fromVideo=f.bind(null,"fromVideo"),c.fromFrame=f.bind(null,"fromFrame"),Object.defineProperty(o.AbstractRenderer.prototype,"autoResize",{get:function(){return Vt(Qc,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){Vt(Qc,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(o.Renderer.prototype,"textureManager",{get:function(){return Vt(Qc,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),o.utils.mixins={mixin:function(){Vt(Qc,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){Vt(Qc,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){Vt(Qc,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(o.BitmapText.prototype,"font",{get:function(){return Vt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){var e;Vt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t&&(e={font:t},this._upgradeStyle(e),e.fontSize=e.fontSize||o.BitmapFont.available[e.fontName].size,this._fontName=e.fontName,this._fontSize=e.fontSize,this.dirty=!0)}})}ns.registerPlugin("accessibility",tr),ns.registerPlugin("extract",Rs),ns.registerPlugin("interaction",Tr),ns.registerPlugin("particle",Pa),ns.registerPlugin("prepare",cu),ns.registerPlugin("batch",Is),ns.registerPlugin("tilingSprite",Ou),ha.registerPlugin(ul),ha.registerPlugin(gu),Ss.registerPlugin(sr),Ss.registerPlugin(ca);var td="5.3.3",ed={AlphaFilter:ml,BlurFilter:Yl,BlurFilterPass:Gl,ColorMatrixFilter:Jl,DisplacementFilter:nc,FXAAFilter:cc,NoiseFilter:gc}},function(t,e,r){"use strict";var D=r(15),L=r(17);function S(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=o,e.resolve=function(t,e){return o(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?o(t,!1,!0).resolveObject(e):e},e.format=function(t){L.isString(t)&&(t=o(t));return t instanceof S?t.format():S.prototype.format.call(t)},e.Url=S;var N=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,F=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),U=["'"].concat(n),B=["%","/","?",";","#"].concat(U),k=["/","?","#"],j=/^[+a-z0-9A-Z_-]{0,63}$/,X=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,G={javascript:!0,"javascript:":!0},H={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Y=r(18);function o(t,e,r){if(t&&L.isObject(t)&&t instanceof S)return t;var i=new S;return i.parse(t,e,r),i}S.prototype.parse=function(t,e,r){if(!L.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=-1!==i&&i<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=(s=t=o.join(n)).trim();if(!r&&1===t.split("#").length){var a=F.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?Y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h,u,l=N.exec(s);if(l&&(h=(l=l[0]).toLowerCase(),this.protocol=h,s=s.substr(l.length)),(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(u="//"===s.substr(0,2))||l&&H[l]||(s=s.substr(2),this.slashes=!0)),!H[l]&&(u||l&&!z[l])){for(var c,d,p=-1,f=0;f<k.length;f++){-1!==(m=s.indexOf(k[f]))&&(-1===p||m<p)&&(p=m)}-1!==(d=-1===p?s.lastIndexOf("@"):s.lastIndexOf("@",p))&&(c=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(c)),p=-1;for(var m,f=0;f<B.length;f++){-1!==(m=s.indexOf(B[f]))&&(-1===p||m<p)&&(p=m)}-1===p&&(p=s.length),this.host=s.slice(0,p),s=s.slice(p),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var y=this.hostname.split(/\./),f=0,g=y.length;f<g;f++){var _=y[f];if(_&&!_.match(j)){for(var b="",x=0,T=_.length;x<T;x++)127<_.charCodeAt(x)?b+="x":b+=_[x];if(!b.match(j)){var E=y.slice(0,f),w=y.slice(f+1),P=_.match(X);P&&(E.push(P[1]),w.unshift(P[2])),w.length&&(s="/"+w.join(".")+s),this.hostname=E.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=D.toASCII(this.hostname));var I=this.port?":"+this.port:"",S=this.hostname||"";this.host=S+I,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!G[h])for(f=0,g=U.length;f<g;f++){var A,O=U[f];-1!==s.indexOf(O)&&((A=encodeURIComponent(O))===O&&(A=escape(O)),s=s.split(O).join(A))}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var M,R=s.indexOf("?");return-1!==R?(this.search=s.substr(R),this.query=s.substr(R+1),e&&(this.query=Y.parse(this.query)),s=s.slice(0,R)):e&&(this.search="",this.query={}),s&&(this.pathname=s),z[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(I=this.pathname||"",M=this.search||"",this.path=I+M),this.href=this.format(),this},S.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&L.isObject(this.query)&&Object.keys(this.query).length&&(o=Y.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||z[e])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n=n||"",i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+i},S.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},S.prototype.resolveObject=function(t){var e;L.isString(t)&&((e=new S).parse(t,!1,!0),t=e);for(var r,i,n=new S,o=Object.keys(this),s=0;s<o.length;s++){var a=o[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(n[l]=t[l])}return z[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!z[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||H[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(r=n.pathname||"",i=n.search||"",n.path=r+i),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=v||m||n.host&&t.pathname,g=y,_=n.pathname&&n.pathname.split("/")||[],f=t.pathname&&t.pathname.split("/")||[],b=n.protocol&&!z[n.protocol];if(b&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),y=y&&(""===f[0]||""===_[0])),v)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=f;else if(f.length)(_=_||[]).pop(),_=_.concat(f),n.search=t.search,n.query=t.query;else if(!L.isNullOrUndefined(t.search)){return b&&(n.hostname=n.host=_.shift(),(P=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),n.search=t.search,n.query=t.query,L.isNull(n.pathname)&&L.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=_.slice(-1)[0],T=(n.host||t.host||1<_.length)&&("."===x||".."===x)||""===x,E=0,w=_.length;0<=w;w--)"."===(x=_[w])?_.splice(w,1):".."===x?(_.splice(w,1),E++):E&&(_.splice(w,1),E--);if(!y&&!g)for(;E--;)_.unshift("..");!y||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),T&&"/"!==_.join("/").substr(-1)&&_.push("");var P,I=""===_[0]||_[0]&&"/"===_[0].charAt(0);return b&&(n.hostname=n.host=!I&&_.length?_.shift():"",(P=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),(y=y||n.host&&_.length)&&!I&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),L.isNull(n.pathname)&&L.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},S.prototype.parseHost=function(){var t=this.host,e=i.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n}},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,p="~";function n(){}function a(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,r,i,n){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new a(r,i||t,n),s=p?p+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(p=!1)),s.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(p?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},s.prototype.listeners=function(t){var e=p?p+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,n=r.length,o=new Array(n);i<n;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(t){var e=p?p+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,n,o){var s=p?p+t:t;if(!this._events[s])return!1;var a,h=this._events[s],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,r),!0;case 4:return h.fn.call(h.context,e,r,i),!0;case 5:return h.fn.call(h.context,e,r,i,n),!0;case 6:return h.fn.call(h.context,e,r,i,n,o),!0}for(d=1,a=new Array(u-1);d<u;d++)a[d-1]=arguments[d];h.fn.apply(h.context,a)}else for(var l,c=h.length,d=0;d<c;d++)switch(h[d].once&&this.removeListener(t,h[d].fn,void 0,!0),u){case 1:h[d].fn.call(h[d].context);break;case 2:h[d].fn.call(h[d].context,e);break;case 3:h[d].fn.call(h[d].context,e,r);break;case 4:h[d].fn.call(h[d].context,e,r,i);break;default:if(!a)for(l=1,a=new Array(u-1);l<u;l++)a[l-1]=arguments[l];h[d].fn.apply(h[d].context,a)}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,r,i){var n=p?p+t:t;if(!this._events[n])return this;if(!e)return u(this,n),this;var o=this._events[n];if(o.fn)o.fn!==e||i&&!o.once||r&&o.context!==r||u(this,n);else{for(var s=0,a=[],h=o.length;s<h;s++)(o[s].fn!==e||i&&!o[s].once||r&&o[s].context!==r)&&a.push(o[s]);a.length?this._events[n]=1===a.length?a[0]:a:u(this,n)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=p?p+t:t,this._events[e]&&u(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=p,s.EventEmitter=s,t.exports=s},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,n,o,s,a,h,u,l=e&&e.length,c=l?e[0]*r:t.length,d=m(t,0,c,r,!0),p=[];if(!d||d.next===d.prev)return p;if(l&&(d=function(t,e,r,i){var n,o,s,a,h,u=[];for(n=0,o=e.length;n<o;n++)s=e[n]*i,a=n<o-1?e[n+1]*i:t.length,(h=m(t,s,a,i,!1))===h.next&&(h.steiner=!0),u.push(function(t){var e=t,r=t;for(;(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next,e!==t;);return r}(h));for(u.sort(g),n=0;n<u.length;n++)!function(t,e){{var r;(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&s<a){if((s=a)===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,c=r.y,d=1/0;i=r;for(;n>=i.x&&i.x>=l&&n!==i.x&&b(o<c?n:s,o,l,c,o<c?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),T(i,t)&&(h<d||h===d&&(i.x>r.x||i.x===r.x&&function(t,e){return x(t.prev,t,e.prev)<0&&x(e.next,t,t.next)<0}(r,i)))&&(r=i,d=h)),i=i.next,i!==u;);return r}(t,e))&&(r=E(e,t),v(e,e.next),v(r,r.next))}}(u[n],r),r=v(r,r.next);return r}(t,e,d,r)),t.length>80*r){i=o=t[0],n=s=t[1];for(var f=r;f<c;f+=r)(a=t[f])<i&&(i=a),(h=t[f+1])<n&&(n=h),o<a&&(o=a),s<h&&(s=h);u=0!==(u=Math.max(o-i,s-n))?1/u:0}return y(d,p,r,i,n,u),p}function m(t,e,r,i,n){var o,s;if(n===0<w(t,e,r,i))for(o=e;o<r;o+=i)s=a(o,t[o],t[o+1],s);else for(o=r-i;e<=o;o-=i)s=a(o,t[o],t[o+1],s);return s&&l(s,s.next)&&(d(s),s=s.next),s}function v(t,e){if(!t)return t;e=e||t;var r,i=t;do{if(r=!1,i.steiner||!l(i,i.next)&&0!==x(i.prev,i,i.next))i=i.next;else{if(d(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function y(t,e,r,i,n,o,s){if(t){!s&&o&&function(t,e,r,i){var n=t;for(;null===n.z&&(n.z=_(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next,n!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,o=t=null,s=0;r;){for(s++,i=r,e=a=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;0<a||0<h&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(r=(n=r).nextZ,a--):(i=(n=i).nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(1<s)}(n)}(t,i,n,o);for(var a,h,u=t;t.prev!==t.next;)if(a=t.prev,h=t.next,o?function(t,e,r,i){var n=t.prev,o=t,s=t.next;if(0<=x(n,o,s))return!1;var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=_(a,h,e,r,i),d=_(u,l,e,r,i),p=t.prevZ,f=t.nextZ;for(;p&&p.z>=c&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&b(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&0<=x(p.prev,p,p.next))return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&b(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&b(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&0<=x(p.prev,p,p.next))return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&b(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}return!0}(t,i,n,o):function(t){var e=t.prev,r=t,i=t.next;if(0<=x(e,r,i))return!1;var n=t.next.next;for(;n!==t.prev;){if(b(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&0<=x(n.prev,n,n.next))return!1;n=n.next}return!0}(t))e.push(a.i/r),e.push(t.i/r),e.push(h.i/r),d(t),t=h.next,u=h.next;else if((t=h)===u){s?1===s?y(t=function(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!l(n,o)&&c(n,i,i.next,o)&&T(n,o)&&T(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),d(i),d(i.next),i=t=o),i=i.next}while(i!==t);return v(i)}(v(t),e,r),e,r,i,n,o,2):2===s&&function(t,e,r,i,n,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&c(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(T(t,e)&&T(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;for(;r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next,r!==t;);return i}(t,e)&&(x(t.prev,t,e.prev)||x(t,e.prev,e))||l(t,e)&&0<x(t.prev,t,t.next)&&0<x(e.prev,e,e.next))}(s,a)){var h=E(s,a);return s=v(s,s.next),h=v(h,h.next),y(s,e,r,i,n,o),y(h,e,r,i,n,o)}a=a.next}s=s.next}while(s!==t)}(t,e,r,i,n,o):y(v(t),e,r,i,n,o,1);break}}}function g(t,e){return t.x-e.x}function _(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function b(t,e,r,i,n,o,s,a){return 0<=(n-s)*(e-a)-(t-s)*(o-a)&&0<=(t-s)*(i-a)-(r-s)*(e-a)&&0<=(r-s)*(o-a)-(n-s)*(i-a)}function x(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function l(t,e){return t.x===e.x&&t.y===e.y}function c(t,e,r,i){var n=u(x(t,e,r)),o=u(x(t,e,i)),s=u(x(r,i,t)),a=u(x(r,i,e));return n!==o&&s!==a||(0===n&&h(t,r,e)||(0===o&&h(t,i,e)||(0===s&&h(r,t,i)||!(0!==a||!h(r,e,i)))))}function h(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function u(t){return 0<t?1:t<0?-1:0}function T(t,e){return x(t.prev,t,t.next)<0?0<=x(t,e,t.next)&&0<=x(t,t.prev,e):x(t,e,t.prev)<0||x(t,t.next,e)<0}function E(t,e){var r=new s(t.i,t.x,t.y),i=new s(e.i,e.x,e.y),n=t.next,o=e.prev;return(t.next=e).prev=t,(r.next=n).prev=r,(i.next=r).prev=i,(o.next=i).prev=o,i}function a(t,e,r,i){var n=new s(t,e,r);return i?(n.next=i.next,(n.prev=i).next.prev=n,i.next=n):(n.prev=n).next=n,n}function d(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function s(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function w(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=i,(t.exports.default=i).deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(w(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(w(t,u,l,r))}for(var c=0,a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[1+p]-t[1+d])-(t[d]-t[p])*(t[1+f]-t[1+d]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);0<n&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var s=o(r(2)),a=(h.prototype.update=function(t){this.progress+=t,this.progress>=this.duration&&(this.progress=this.duration);var e=this.progress/this.duration,r=[e*this.endPosition[0]+(1-e)*this.startPosition[0],e*this.endPosition[1]+(1-e)*this.startPosition[1]];this.card.x=r[0],this.card.y=r[1]},h.prototype.isComplete=function(){return this.progress>=this.duration},h);function h(t,e,r){this.card=t,this.card.zIndex=150,this.startPosition=e,this.endPosition=r,this.progress=0,this.duration=120}var u={scene:new s.Container,deck1:[],deck2:[],rootPositions:[],movingCards:[],cardInterval:60,frames:0,setup:function(t,e){this.scene.sortableChildren=!0,this.rootPositions.push([5,144]),this.rootPositions.push([e-t.resources["assets/testSprite.png"].texture.width-5,144]);for(var r=0;r<144;r++){var i=new s.Sprite(t.resources["assets/testSprite.png"].texture);i.zIndex=r+1,i.x=this.rootPositions[0][0],i.y=this.rootPositions[0][1]-r,this.deck1.push(i),this.scene.addChild(i)}return this.scene},play:function(e){var t,r;this.frames+=e,this.frames>this.cardInterval&&(this.frames-=this.cardInterval,void 0!==(t=this.deck1.pop())&&(r=new a(t,[this.rootPositions[0][0],this.rootPositions[0][1]-this.deck1.length],[this.rootPositions[1][0],this.rootPositions[1][1]-this.deck2.length-1]),this.deck2.push(t),this.movingCards.unshift(r))),this.movingCards.forEach(function(t){return t.update(e)});for(var i,n=this.movingCards.length-1;0<=n;n--){!this.movingCards[n].isComplete()||(i=this.movingCards.pop())&&(i.card.zIndex=this.deck2.length)}}};e.default=u},function(S,A,O){(function(t,P){var I;!function(t){var e,r=t.Promise,i=r&&"resolve"in r&&"reject"in r&&"all"in r&&"race"in r&&(new r(function(t){e=t}),"function"==typeof e);A?(A.Promise=i?r:w,A.Polyfill=w):void 0===(I=function(){return i?r:w}.call(A,O,A,S))||(S.exports=I);function n(){}var o="pending",s="sealed",a="fulfilled",h="rejected";function u(t){return"[object Array]"===Object.prototype.toString.call(t)}var l,c=void 0!==P?P:setTimeout,d=[];function p(){for(var t=0;t<d.length;t++)d[t][0](d[t][1]);l=!(d=[])}function f(t,e){d.push([t,e]),l||(l=!0,c(p,0))}function m(t,e){function r(t){b(e,t)}try{t(function(t){g(e,t)},r)}catch(t){r(t)}}function v(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r=a;try{i=n(i)}catch(t){b(o,t)}}y(o,i)||(r===a&&g(o,i),r===h&&b(o,i))}function y(e,r){var i;try{if(e===r)throw new TypeError("A promises callback cannot return that same promise.");if(r&&("function"==typeof r||"object"==typeof r)){var t=r.then;if("function"==typeof t)return t.call(r,function(t){i||(i=!0,(r!==t?g:_)(e,t))},function(t){i||(i=!0,b(e,t))}),1}}catch(t){return i||b(e,t),1}}function g(t,e){t!==e&&y(t,e)||_(t,e)}function _(t,e){t.state_===o&&(t.state_=s,t.data_=e,f(T,t))}function b(t,e){t.state_===o&&(t.state_=s,t.data_=e,f(E,t))}function x(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)v(e[r])}function T(t){t.state_=a,x(t)}function E(t){t.state_=h,x(t)}function w(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof w==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],m(t,this)}w.prototype={constructor:w,state_:o,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(n),fulfilled:t,rejected:e};return this.state_===a||this.state_===h?f(v,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},w.all=function(s){if(!u(s))throw new TypeError("You must pass an array to Promise.all().");return new this(function(r,t){var i=[],n=0;for(var e,o=0;o<s.length;o++)(e=s[o])&&"function"==typeof e.then?e.then(function(e){return n++,function(t){i[e]=t,--n||r(i)}}(o),t):i[o]=e;n||r(i)})},w.race=function(n){if(!u(n))throw new TypeError("You must pass an array to Promise.race().");return new this(function(t,e){for(var r,i=0;i<n.length;i++)(r=n[i])&&"function"==typeof r.then?r.then(t,e):t(r)})},w.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})},w.reject=function(r){return new this(function(t,e){e(r)})}}("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this)}).call(this,O(1),O(12).setImmediate)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var h=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,e){for(var r,i,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var s in r=Object(arguments[o]))u.call(r,s)&&(n[s]=r[s]);if(h){i=h(r);for(var a=0;a<i.length;a++)l.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}},function(t,e,r){t.exports=r(11)},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r(2));r(7);var h=s(r(7)),u=s(r(21)),l=s(r(22)),c=new a.Application({width:100,height:100});c.renderer.view.style.display="block",c.renderer.autoDensity=!0,c.renderer.resize(window.innerWidth,window.innerHeight),c.renderer.backgroundColor=39168,c.stage.sortableChildren=!0;var d,p=[],f=new a.Loader;f.add("assets/testSprite.png").add("assets/smileEmoticon.png").add("assets/fireParticle.png").load(function(){d=new a.Text("FPS : 0",{stroke:"#ffffff",fill:"#ffffff"}),c.stage.addChild(d),p.push(h.default.setup(f,window.innerWidth)),p.push(u.default.setup(f,window.innerWidth)),p.push(l.default.setup(f,window.innerWidth,window.innerHeight)),p.forEach(function(t){c.stage.addChild(t),t.y=40,t.visible=!1}),p[2].visible=!0,c.ticker.add(function(t){return e=t,d.text="FPS : "+c.ticker.FPS.toFixed(1),void(p[0].visible?h.default.play(e):p[1].visible?u.default.play(e):p[2].visible&&l.default.play(e));var e})}),document.body.appendChild(c.view)},function(t,n,o){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new i(r.call(setTimeout,e,arguments),clearTimeout)},n.setInterval=function(){return new i(r.call(setInterval,e,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(e,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},o(13),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,o(1))},function(t,e,r){(function(t,f){!function(r,i){"use strict";var n,o,s,a,h,u,e,l,t;function c(t){delete o[t]}function d(t){if(s)setTimeout(d,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(i,r)}}(e)}finally{c(t),s=!1}}}}function p(t){t.source===r&&"string"==typeof t.data&&0===t.data.indexOf(l)&&d(+t.data.slice(l.length))}r.setImmediate||(n=1,s=!(o={}),a=r.document,t=(t=Object.getPrototypeOf&&Object.getPrototypeOf(r))&&t.setTimeout?t:r,h="[object process]"==={}.toString.call(r.process)?function(t){f.nextTick(function(){d(t)})}:function(){if(r.postMessage&&!r.importScripts){var t=!0,e=r.onmessage;return r.onmessage=function(){t=!1},r.postMessage("","*"),r.onmessage=e,t}}()?(l="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",p,!1):r.attachEvent("onmessage",p),function(t){r.postMessage(l+t,"*")}):r.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){d(t.data)},function(t){e.port2.postMessage(t)}):a&&"onreadystatechange"in a.createElement("script")?(u=a.documentElement,function(t){var e=a.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,u.removeChild(e),e=null},u.appendChild(e)}):function(t){setTimeout(d,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return o[n]=i,h(n),n++},t.clearImmediate=c)}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(1),r(14))},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,v,M){(function(p,f){var m;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(){v&&v.nodeType,p&&p.nodeType;var t="object"==typeof f&&f;t.global!==t&&t.window!==t&&t.self;var e,y=2147483647,g=36,_=1,b=26,n=38,o=700,x=72,T=128,E="-",r=/^xn--/,i=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,a={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=g-_,w=Math.floor,P=String.fromCharCode;function I(t){throw RangeError(a[t])}function u(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function l(t,e){var r=t.split("@"),i="";return 1<r.length&&(i=r[0]+"@",t=r[1]),i+u((t=t.replace(s,".")).split("."),e).join(".")}function S(t){for(var e,r,i=[],n=0,o=t.length;n<o;)55296<=(e=t.charCodeAt(n++))&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function A(t){return u(t,function(t){var e="";return 65535<t&&(e+=P((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=P(t)}).join("")}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,r){var i=0;for(t=r?w(t/o):t>>1,t+=w(t/e);h*b>>1<t;i+=g)t=w(t/h);return w(i+(h+1)*t/(t+n))}function c(t){var e,r,i,n,o,s,a,h,u,l,c=[],d=t.length,p=0,f=T,m=x,v=t.lastIndexOf(E);for(v<0&&(v=0),r=0;r<v;++r)128<=t.charCodeAt(r)&&I("not-basic"),c.push(t.charCodeAt(r));for(i=0<v?v+1:0;i<d;){for(n=p,o=1,s=g;d<=i&&I("invalid-input"),l=t.charCodeAt(i++),(g<=(a=l-48<10?l-22:l-65<26?l-65:l-97<26?l-97:g)||a>w((y-p)/o))&&I("overflow"),p+=a*o,!(a<(h=s<=m?_:m+b<=s?b:s-m));s+=g)o>w(y/(u=g-h))&&I("overflow"),o*=u;m=C(p-n,e=c.length+1,0==n),w(p/e)>y-f&&I("overflow"),f+=w(p/e),p%=e,c.splice(p++,0,f)}return A(c)}function d(t){for(var e,r,i,n,o,s,a,h,u,l,c,d=[],p=(t=S(t)).length,f=T,m=x,v=e=0;v<p;++v)(h=t[v])<128&&d.push(P(h));for(r=i=d.length,i&&d.push(E);r<p;){for(n=y,v=0;v<p;++v)f<=(h=t[v])&&h<n&&(n=h);for(n-f>w((y-e)/(u=r+1))&&I("overflow"),e+=(n-f)*u,f=n,v=0;v<p;++v)if((h=t[v])<f&&++e>y&&I("overflow"),h==f){for(o=e,s=g;!(o<(a=s<=m?_:m+b<=s?b:s-m));s+=g)c=o-a,l=g-a,d.push(P(O(a+c%l,0))),o=w(c/l);d.push(P(O(o,0))),m=C(e,u,r==i),e=0,++r}++e,++f}return d.join("")}e={version:"1.3.2",ucs2:{decode:S,encode:A},decode:c,encode:d,toASCII:function(t){return l(t,function(t){return i.test(t)?"xn--"+d(t):t})},toUnicode:function(t){return l(t,function(t){return r.test(t)?c(t.slice(4).toLowerCase()):t})}},void 0===(m=function(){return e}.call(v,M,v,p))||(p.exports=m)}()}).call(this,M(16)(t),M(1))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(19),e.encode=e.stringify=r(20)},function(t,e,r){"use strict";t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var n={};if("string"!=typeof t||0===t.length)return n;var o=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=t.length;0<s&&s<a&&(a=s);for(var h,u,l=0;l<a;++l){var c,d=t[l].replace(o,"%20"),p=d.indexOf(r),f=0<=p?(c=d.substr(0,p),d.substr(p+1)):(c=d,""),m=decodeURIComponent(c),v=decodeURIComponent(f);h=n,u=m,Object.prototype.hasOwnProperty.call(h,u)?y(n[m])?n[m].push(v):n[m]=[n[m],v]:n[m]=v}return n};var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";function o(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}t.exports=function(r,i,n,t){return i=i||"&",n=n||"=",null===r&&(r=void 0),"object"==typeof r?a(h(r),function(t){var e=encodeURIComponent(o(t))+n;return s(r[t])?a(r[t],function(t){return e+encodeURIComponent(o(t))}).join(i):e+encodeURIComponent(o(r[t]))}).join(i):t?encodeURIComponent(o(t))+n+encodeURIComponent(o(r)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var h=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var u=o(r(2));var s={scene:new u.Container,interval:120,frames:0,textShown:null,loader:null,width:0,setup:function(t,e){return this.loader=t,this.width=e,this.scene},play:function(t){this.frames+=t,this.frames>=this.interval&&(this.frames-=this.interval,this.newText())},newText:function(){if(this.loader){this.textShown&&this.scene.removeChild(this.textShown);for(var t=[],e=0;e<3;e++).5<Math.random()?t.push(new u.Sprite(this.loader.resources["assets/smileEmoticon.png"].texture)):t.push("text");var r=Math.floor(97*Math.random()+8);this.textShown=(i=t,n=r,o=this.width,s=new u.Container,h=a=0,i.forEach(function(t){var e,r=t instanceof u.Sprite?(e=n/t.height,t.scale.x=e,t.scale.y=e,t):new u.Text(t,{fontSize:n});s.addChild(r),a+r.width>o&&(h+=1.2*n,a=0),r.x=a,r.y=h,a+=r.width}),s),this.scene.addChild(this.textShown)}var i,n,o,s,a,h}};e.default=s},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),n=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0});var a=o(r(2)),h=(u.prototype.start=function(){this.sprite.x=this.startPosition[0],this.sprite.y=this.startPosition[1],this.speed=[2*(Math.random()-Math.random()),Math.random()-Math.random()],0<this.frames&&(this.frames-=this.lifetime),this.sprite.tint=16711680},u.prototype.update=function(t){var e;this.frames+=t,this.frames<this.delay||(0<this.delay&&(this.frames=0,this.delay=-1/0),this.frames>this.lifetime&&this.start(),this.speed[1]-=t/4,this.speed[0]-=t*(this.sprite.x-this.startPosition[0])/200,this.sprite.x+=this.speed[0]*t,this.sprite.y+=this.speed[1]*t,e=Math.min(this.frames/this.lifetime,1),this.sprite.tint=a.utils.rgb2hex([1,e,0]))},u);function u(t,e,r,i){this.startPosition=s(t),this.sprite=e,this.speed=[0,0],this.frames=0,this.lifetime=r,this.sprite.tint=16711680,this.sprite.pivot.set(this.sprite.width/2,this.sprite.height/2),this.delay=i,this.start()}var l={scene:new a.ParticleContainer(10,{tint:!0}),particles:[],setup:function(t,e,r){for(var i=0;i<10;i++){var n=new h([e/2,r/2],new a.Sprite(t.resources["assets/fireParticle.png"].texture),30,3*i);this.scene.addChild(n.sprite),this.particles.push(n)}return this.scene},play:function(e){this.particles.forEach(function(t){return t.update(e)})}};e.default=l}],n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10);function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var r,i});